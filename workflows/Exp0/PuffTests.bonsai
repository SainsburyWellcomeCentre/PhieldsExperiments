<?xml version="1.0" encoding="utf-8"?>
<WorkflowBuilder Version="2.8.5"
                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xmlns:rx="clr-namespace:Bonsai.Reactive;assembly=Bonsai.Core"
                 xmlns:sys="clr-namespace:System;assembly=mscorlib"
                 xmlns:harp="clr-namespace:Bonsai.Harp;assembly=Bonsai.Harp"
                 xmlns:p1="clr-namespace:Harp.TimestampGeneratorGen3;assembly=Harp.TimestampGeneratorGen3"
                 xmlns:p2="clr-namespace:Harp.CameraControllerGen2;assembly=Harp.CameraControllerGen2"
                 xmlns:aeon="clr-namespace:Aeon.Acquisition;assembly=Aeon.Acquisition"
                 xmlns:spk="clr-namespace:Bonsai.Spinnaker;assembly=Bonsai.Spinnaker"
                 xmlns:beh="clr-namespace:Harp.Behavior;assembly=Harp.Behavior"
                 xmlns:fstep="clr-namespace:Harp.FastStepper;assembly=Harp.FastStepper"
                 xmlns:p3="clr-namespace:RigConfiguration;assembly=Extensions"
                 xmlns:cv="clr-namespace:Bonsai.Vision;assembly=Bonsai.Vision"
                 xmlns:p4="clr-namespace:;assembly=Extensions"
                 xmlns:scr="clr-namespace:Bonsai.Scripting.Expressions;assembly=Bonsai.Scripting.Expressions"
                 xmlns:p5="clr-namespace:OpenCV.Net;assembly=OpenCV.Net"
                 xmlns:p6="clr-namespace:System.Reactive.Linq;assembly=System.Reactive.Interfaces"
                 xmlns:aeon-env="clr-namespace:Aeon.Environment;assembly=Aeon.Environment"
                 xmlns:wie="clr-namespace:Bonsai.Windows.Input;assembly=Bonsai.Windows.Input"
                 xmlns:viz="clr-namespace:Bonsai.Design.Visualizers;assembly=Bonsai.Design.Visualizers"
                 xmlns:gui="clr-namespace:Bonsai.Gui;assembly=Bonsai.Gui"
                 xmlns:drw="clr-namespace:Bonsai.Vision.Drawing;assembly=Bonsai.Vision"
                 xmlns:zg="clr-namespace:Bonsai.Gui.ZedGraph;assembly=Bonsai.Gui.ZedGraph"
                 xmlns:dsp="clr-namespace:Bonsai.Dsp;assembly=Bonsai.Dsp"
                 xmlns:p7="clr-namespace:DataSchema;assembly=Extensions"
                 xmlns:p8="clr-namespace:Trigger;assembly=Extensions"
                 xmlns:num="clr-namespace:Bonsai.Numerics;assembly=Bonsai.Numerics"
                 xmlns:p9="clr-namespace:Bonsai.Numerics.Distributions;assembly=Bonsai.Numerics"
                 xmlns="https://bonsai-rx.org/2018/workflow">
  <Workflow>
    <Nodes>
      <Expression xsi:type="GroupWorkflow">
        <Name>Devices</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="GroupWorkflow">
              <Name>HardwareDevices</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="GroupWorkflow">
              <Name>ClockSynchronizer</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="PortName" />
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>TimestampGenerator</Name>
                    <Description>Provides support for uninterruptible synchronization of all arena Harp devices and setting the UTC time reference.</Description>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="rx:BehaviorSubject" TypeArguments="sys:Object">
                          <rx:Name>SynchronizeTimestamp</rx:Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="harp:SynchronizeTimestamp" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="PortName" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="p1:Device">
                            <harp:OperationMode>Active</harp:OperationMode>
                            <harp:OperationLed>On</harp:OperationLed>
                            <harp:DumpRegisters>true</harp:DumpRegisters>
                            <harp:VisualIndicators>On</harp:VisualIndicators>
                            <harp:Heartbeat>Enabled</harp:Heartbeat>
                            <harp:IgnoreErrors>false</harp:IgnoreErrors>
                            <harp:PortName>COM9</harp:PortName>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="MulticastSubject">
                          <Name>SynchronizerEvents</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="harp:FilterMessageType">
                            <harp:FilterType>Include</harp:FilterType>
                            <harp:MessageType>Event</harp:MessageType>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="harp:FilterRegister">
                          <harp:FilterType>Include</harp:FilterType>
                          <harp:Register xsi:type="harp:TimestampSeconds" />
                        </Expression>
                        <Expression xsi:type="MulticastSubject">
                          <Name>Heartbeats</Name>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="3" Label="Source1" />
                        <Edge From="2" To="3" Label="Source2" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="6" Label="Source1" />
                        <Edge From="6" To="7" Label="Source1" />
                        <Edge From="7" To="8" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                  <Expression xsi:type="rx:PublishSubject" TypeArguments="harp:HarpMessage">
                    <rx:Name>SynchronizerEvents</rx:Name>
                  </Expression>
                  <Expression xsi:type="rx:PublishSubject" TypeArguments="harp:HarpMessage">
                    <rx:Name>Heartbeats</rx:Name>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>VideoController</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>ConfigurePwmCam0</Name>
                    <Description />
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="p2:CreateMessage">
                          <harp:MessageType>Write</harp:MessageType>
                          <harp:Payload xsi:type="p2:CreateConfigureCam0EventPayload">
                            <p2:ConfigureCam0Event>EventOnTrigger</p2:ConfigureCam0Event>
                          </harp:Payload>
                        </Expression>
                        <Expression xsi:type="p2:CreateMessage">
                          <harp:MessageType>Write</harp:MessageType>
                          <harp:Payload xsi:type="p2:CreateTriggerConfigCam0Payload">
                            <p2:TriggerConfigCam0>Internal</p2:TriggerConfigCam0>
                          </harp:Payload>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Frequency" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="IntProperty">
                                  <Value>50</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="p2:Format">
                          <harp:MessageType>Write</harp:MessageType>
                          <harp:Register xsi:type="p2:TriggerFrequencyCam0" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Concat" />
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="6" Label="Source1" />
                        <Edge From="1" To="6" Label="Source2" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="6" Label="Source3" />
                        <Edge From="6" To="7" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>ConfigurePwmCam1</Name>
                    <Description />
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="p2:CreateMessage">
                          <harp:MessageType>Write</harp:MessageType>
                          <harp:Payload xsi:type="p2:CreateConfigureCam1EventPayload">
                            <p2:ConfigureCam1Event>EventOnTrigger</p2:ConfigureCam1Event>
                          </harp:Payload>
                        </Expression>
                        <Expression xsi:type="p2:CreateMessage">
                          <harp:MessageType>Write</harp:MessageType>
                          <harp:Payload xsi:type="p2:CreateTriggerConfigCam1Payload">
                            <p2:TriggerConfigCam1>Internal</p2:TriggerConfigCam1>
                          </harp:Payload>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" DisplayName="Frequency" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="IntProperty">
                            <Value>125</Value>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="p2:Format">
                          <harp:MessageType>Write</harp:MessageType>
                          <harp:Register xsi:type="p2:TriggerFrequencyCam1" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Concat" />
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="6" Label="Source1" />
                        <Edge From="1" To="6" Label="Source2" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="6" Label="Source3" />
                        <Edge From="6" To="7" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>StartCameras</Name>
                  </Expression>
                  <Expression xsi:type="p2:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p2:CreateStartAndStopPayload">
                      <p2:StartAndStop>StartCam0 StartCam1</p2:StartAndStop>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>StopCameras</Name>
                  </Expression>
                  <Expression xsi:type="p2:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="p2:CreateStartAndStopPayload">
                      <p2:StartAndStop>StopCam0 StopCam1</p2:StartAndStop>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="PortName" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="p2:Device">
                      <harp:OperationMode>Active</harp:OperationMode>
                      <harp:OperationLed>On</harp:OperationLed>
                      <harp:DumpRegisters>true</harp:DumpRegisters>
                      <harp:VisualIndicators>On</harp:VisualIndicators>
                      <harp:Heartbeat>Enabled</harp:Heartbeat>
                      <harp:IgnoreErrors>false</harp:IgnoreErrors>
                      <harp:PortName>COM7</harp:PortName>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>CameraControllerEvents</Name>
                  </Expression>
                  <Expression xsi:type="p2:Parse">
                    <harp:Register xsi:type="p2:TimestampedCam0Event" />
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Name>TriggerEvent</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value</Selector>
                        </Expression>
                        <Expression xsi:type="HasFlag">
                          <Operand xsi:type="WorkflowProperty" TypeArguments="p2:CameraEvents">
                            <Value>Trigger</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="rx:PublishSubject">
                    <Name>Trigger0</Name>
                  </Expression>
                  <Expression xsi:type="p2:Parse">
                    <harp:Register xsi:type="p2:TimestampedCam1Event" />
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Name>TriggerEvent</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value</Selector>
                        </Expression>
                        <Expression xsi:type="HasFlag">
                          <Operand xsi:type="WorkflowProperty" TypeArguments="p2:CameraEvents">
                            <Value>Trigger</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="rx:PublishSubject">
                    <Name>Trigger1</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Trigger0</Name>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject" TypeArguments="sys:Object">
                    <rx:Name>StartCameras</rx:Name>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject" TypeArguments="sys:Object">
                    <rx:Name>StopCameras</rx:Name>
                  </Expression>
                  <Expression xsi:type="rx:PublishSubject" TypeArguments="harp:HarpMessage">
                    <rx:Name>CameraControllerEvents</rx:Name>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="6" Label="Source1" />
                  <Edge From="1" To="6" Label="Source2" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="6" Label="Source3" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source4" />
                  <Edge From="6" To="8" Label="Source1" />
                  <Edge From="7" To="8" Label="Source2" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="9" To="13" Label="Source1" />
                  <Edge From="9" To="16" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="13" To="14" Label="Source1" />
                  <Edge From="14" To="15" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>Cameras</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Trigger0</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="aeon:SpinnakerCapture">
                      <spk:Index xsi:nil="true" />
                            <spk:SerialNumber>23425449</spk:SerialNumber>
                      <spk:ColorProcessing>Default</spk:ColorProcessing>
                            <aeon:ExposureTime>10000</aeon:ExposureTime>
                      <aeon:Gain>1</aeon:Gain>
                      <aeon:Binning>1</aeon:Binning>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:PublishSubject">
                    <Name>CameraEvents</Name>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>BehaviorBoard</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="beh:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="beh:CreateOutputPulseEnablePayload">
                      <beh:OutputPulseEnable>SupplyPort0</beh:OutputPulseEnable>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>BehaviorBoardCommands</Name>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject" TypeArguments="harp:HarpMessage">
                    <rx:Name>BehaviorBoardCommands</rx:Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="beh:Device">
                      <harp:OperationMode>Active</harp:OperationMode>
                      <harp:OperationLed>On</harp:OperationLed>
                      <harp:DumpRegisters>true</harp:DumpRegisters>
                      <harp:VisualIndicators>On</harp:VisualIndicators>
                      <harp:Heartbeat>Enabled</harp:Heartbeat>
                      <harp:IgnoreErrors>false</harp:IgnoreErrors>
                      <harp:PortName>COM13</harp:PortName>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="beh:FilterRegister">
                    <harp:FilterType>Exclude</harp:FilterType>
                    <harp:Register xsi:type="beh:AnalogData" />
                  </Expression>
                  <Expression xsi:type="rx:PublishSubject">
                    <Name>BehaviorBoardEvents</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                  <Expression xsi:type="rx:BehaviorSubject" TypeArguments="sys:Object">
                    <rx:Name>TriggerValve</rx:Name>
                  </Expression>
                  <Expression xsi:type="beh:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="beh:CreateOutputSetPayload">
                      <beh:OutputSet>SupplyPort0</beh:OutputSet>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>BehaviorBoardCommands</Name>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject" TypeArguments="sys:UInt16">
                    <rx:Name>PulseSupplyPayload</rx:Name>
                  </Expression>
                  <Expression xsi:type="InputMapping">
                    <PropertyMappings>
                      <Property Name="PulseSupplyPort0" Selector="it" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="beh:CreateMessage">
                    <harp:MessageType>Write</harp:MessageType>
                    <harp:Payload xsi:type="beh:CreatePulseSupplyPort0Payload">
                      <beh:PulseSupplyPort0>1000</beh:PulseSupplyPort0>
                    </harp:Payload>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>BehaviorBoardCommands</Name>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="12" To="13" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>Loom</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="BooleanProperty">
                      <Value>false</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>LoomSequenceActive</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>Events</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:First" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Delay">
                      <rx:DueTime>PT0.1S</rx:DueTime>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:SelectMany">
                    <Name>InitializeMovementSettings</Name>
                    <Description>GroupName</Description>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="Disable">
                          <Builder xsi:type="GroupWorkflow">
                            <Name>BrakeLock</Name>
                            <Workflow>
                              <Nodes>
                                <Expression xsi:type="WorkflowInput">
                                  <Name>Source1</Name>
                                </Expression>
                                <Expression xsi:type="fstep:CreateMessage">
                                  <harp:MessageType>Write</harp:MessageType>
                                  <harp:Payload xsi:type="fstep:CreateMotorBrakePayload">
                                    <fstep:MotorBrake>BreakOn</fstep:MotorBrake>
                                  </harp:Payload>
                                </Expression>
                                <Expression xsi:type="MulticastSubject">
                                  <Name>FastStepperCommands</Name>
                                </Expression>
                                <Expression xsi:type="WorkflowOutput" />
                              </Nodes>
                              <Edges>
                                <Edge From="0" To="1" Label="Source1" />
                                <Edge From="1" To="2" Label="Source1" />
                                <Edge From="2" To="3" Label="Source1" />
                              </Edges>
                            </Workflow>
                          </Builder>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>DisableMotor</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="fstep:CreateMessage">
                                <harp:MessageType>Write</harp:MessageType>
                                <harp:Payload xsi:type="fstep:CreateControlPayload">
                                  <fstep:Control>DisableMotor</fstep:Control>
                                </harp:Payload>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>Commands</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>DisableAnalog</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="fstep:CreateMessage">
                                <harp:MessageType>Write</harp:MessageType>
                                <harp:Payload xsi:type="fstep:CreateControlPayload">
                                  <fstep:Control>DisableAnalogInput</fstep:Control>
                                </harp:Payload>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>Commands</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>EnableHoming</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="fstep:CreateMessage">
                                <harp:MessageType>Write</harp:MessageType>
                                <harp:Payload xsi:type="fstep:CreateControlPayload">
                                  <fstep:Control>EnableHoming</fstep:Control>
                                </harp:Payload>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>Commands</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>SetHomingVelocity</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="HomeVelocity" />
                              </Expression>
                              <Expression xsi:type="fstep:CreateMessage">
                                <harp:MessageType>Write</harp:MessageType>
                                <harp:Payload xsi:type="fstep:CreateHomeVelocityPayload">
                                  <fstep:HomeVelocity>200</fstep:HomeVelocity>
                                </harp:Payload>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>Commands</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="Disable">
                          <Builder xsi:type="ExternalizedMapping">
                            <Property Name="MinVelocity" />
                          </Builder>
                        </Expression>
                        <Expression xsi:type="Disable">
                          <Builder xsi:type="GroupWorkflow">
                            <Name>SetMinimumVelocity</Name>
                            <Workflow>
                              <Nodes>
                                <Expression xsi:type="WorkflowInput">
                                  <Name>Source1</Name>
                                </Expression>
                                <Expression xsi:type="ExternalizedMapping">
                                  <Property Name="MinVelocity" />
                                </Expression>
                                <Expression xsi:type="fstep:CreateMessage">
                                  <harp:MessageType>Write</harp:MessageType>
                                  <harp:Payload xsi:type="fstep:CreateMinVelocityPayload">
                                    <fstep:MinVelocity>100</fstep:MinVelocity>
                                  </harp:Payload>
                                </Expression>
                                <Expression xsi:type="MulticastSubject">
                                  <Name>FastStepperCommands</Name>
                                </Expression>
                                <Expression xsi:type="WorkflowOutput" />
                              </Nodes>
                              <Edges>
                                <Edge From="0" To="2" Label="Source1" />
                                <Edge From="1" To="2" Label="Source2" />
                                <Edge From="2" To="3" Label="Source1" />
                                <Edge From="3" To="4" Label="Source1" />
                              </Edges>
                            </Workflow>
                          </Builder>
                        </Expression>
                        <Expression xsi:type="Disable">
                          <Builder xsi:type="ExternalizedMapping">
                            <Property Name="MaxVelocity" />
                          </Builder>
                        </Expression>
                        <Expression xsi:type="Disable">
                          <Builder xsi:type="GroupWorkflow">
                            <Name>SetMaximumVelocity</Name>
                            <Workflow>
                              <Nodes>
                                <Expression xsi:type="WorkflowInput">
                                  <Name>Source1</Name>
                                </Expression>
                                <Expression xsi:type="ExternalizedMapping">
                                  <Property Name="MaxVelocity" />
                                </Expression>
                                <Expression xsi:type="fstep:CreateMessage">
                                  <harp:MessageType>Write</harp:MessageType>
                                  <harp:Payload xsi:type="fstep:CreateMaxVelocityPayload">
                                    <fstep:MaxVelocity>10000</fstep:MaxVelocity>
                                  </harp:Payload>
                                </Expression>
                                <Expression xsi:type="MulticastSubject">
                                  <Name>FastStepperCommands</Name>
                                </Expression>
                                <Expression xsi:type="WorkflowOutput" />
                              </Nodes>
                              <Edges>
                                <Edge From="0" To="2" Label="Source1" />
                                <Edge From="1" To="2" Label="Source2" />
                                <Edge From="2" To="3" Label="Source1" />
                                <Edge From="3" To="4" Label="Source1" />
                              </Edges>
                            </Workflow>
                          </Builder>
                        </Expression>
                        <Expression xsi:type="Disable">
                          <Builder xsi:type="ExternalizedMapping">
                            <Property Name="Acceleration" Category="AcceleratedMovement" />
                          </Builder>
                        </Expression>
                        <Expression xsi:type="Disable">
                          <Builder xsi:type="GroupWorkflow">
                            <Name>SetAcceleration</Name>
                            <Workflow>
                              <Nodes>
                                <Expression xsi:type="WorkflowInput">
                                  <Name>Source1</Name>
                                </Expression>
                                <Expression xsi:type="ExternalizedMapping">
                                  <Property Name="Acceleration" />
                                </Expression>
                                <Expression xsi:type="fstep:CreateMessage">
                                  <harp:MessageType>Write</harp:MessageType>
                                  <harp:Payload xsi:type="fstep:CreateAccelerationPayload">
                                    <fstep:Acceleration>10000</fstep:Acceleration>
                                  </harp:Payload>
                                </Expression>
                                <Expression xsi:type="MulticastSubject">
                                  <Name>FastStepperCommands</Name>
                                </Expression>
                                <Expression xsi:type="WorkflowOutput" />
                              </Nodes>
                              <Edges>
                                <Edge From="0" To="2" Label="Source1" />
                                <Edge From="1" To="2" Label="Source2" />
                                <Edge From="2" To="3" Label="Source1" />
                                <Edge From="3" To="4" Label="Source1" />
                              </Edges>
                            </Workflow>
                          </Builder>
                        </Expression>
                        <Expression xsi:type="Disable">
                          <Builder xsi:type="ExternalizedMapping">
                            <Property Name="Deceleration" Category="DeceleratedMovement" />
                          </Builder>
                        </Expression>
                        <Expression xsi:type="Disable">
                          <Builder xsi:type="GroupWorkflow">
                            <Name>SetDeceleration</Name>
                            <Workflow>
                              <Nodes>
                                <Expression xsi:type="WorkflowInput">
                                  <Name>Source1</Name>
                                </Expression>
                                <Expression xsi:type="ExternalizedMapping">
                                  <Property Name="Deceleration" />
                                </Expression>
                                <Expression xsi:type="fstep:CreateMessage">
                                  <harp:MessageType>Write</harp:MessageType>
                                  <harp:Payload xsi:type="fstep:CreateDecelerationPayload">
                                    <fstep:Deceleration>-20000</fstep:Deceleration>
                                  </harp:Payload>
                                </Expression>
                                <Expression xsi:type="MulticastSubject">
                                  <Name>FastStepperCommands</Name>
                                </Expression>
                                <Expression xsi:type="WorkflowOutput" />
                              </Nodes>
                              <Edges>
                                <Edge From="0" To="2" Label="Source1" />
                                <Edge From="1" To="2" Label="Source2" />
                                <Edge From="2" To="3" Label="Source1" />
                                <Edge From="3" To="4" Label="Source1" />
                              </Edges>
                            </Workflow>
                          </Builder>
                        </Expression>
                        <Expression xsi:type="Disable">
                          <Builder xsi:type="ExternalizedMapping">
                            <Property Name="AccelerationJerk" Category="AcceleratedMovement" />
                          </Builder>
                        </Expression>
                        <Expression xsi:type="Disable">
                          <Builder xsi:type="GroupWorkflow">
                            <Name>SetAccelerationJerk</Name>
                            <Workflow>
                              <Nodes>
                                <Expression xsi:type="WorkflowInput">
                                  <Name>Source1</Name>
                                </Expression>
                                <Expression xsi:type="ExternalizedMapping">
                                  <Property Name="AccelerationJerk" />
                                </Expression>
                                <Expression xsi:type="fstep:CreateMessage">
                                  <harp:MessageType>Write</harp:MessageType>
                                  <harp:Payload xsi:type="fstep:CreateAccelerationJerkPayload">
                                    <fstep:AccelerationJerk>-20000</fstep:AccelerationJerk>
                                  </harp:Payload>
                                </Expression>
                                <Expression xsi:type="MulticastSubject">
                                  <Name>FastStepperCommands</Name>
                                </Expression>
                                <Expression xsi:type="WorkflowOutput" />
                              </Nodes>
                              <Edges>
                                <Edge From="0" To="2" Label="Source1" />
                                <Edge From="1" To="2" Label="Source2" />
                                <Edge From="2" To="3" Label="Source1" />
                                <Edge From="3" To="4" Label="Source1" />
                              </Edges>
                            </Workflow>
                          </Builder>
                        </Expression>
                        <Expression xsi:type="Disable">
                          <Builder xsi:type="ExternalizedMapping">
                            <Property Name="DecelerationJerk" Category="DeceleratedMovement" />
                          </Builder>
                        </Expression>
                        <Expression xsi:type="Disable">
                          <Builder xsi:type="GroupWorkflow">
                            <Name>SetDecelerationJerk</Name>
                            <Workflow>
                              <Nodes>
                                <Expression xsi:type="WorkflowInput">
                                  <Name>Source1</Name>
                                </Expression>
                                <Expression xsi:type="ExternalizedMapping">
                                  <Property Name="DecelerationJerk" />
                                </Expression>
                                <Expression xsi:type="fstep:CreateMessage">
                                  <harp:MessageType>Write</harp:MessageType>
                                  <harp:Payload xsi:type="fstep:CreateDecelerationJerkPayload">
                                    <fstep:DecelerationJerk>0</fstep:DecelerationJerk>
                                  </harp:Payload>
                                </Expression>
                                <Expression xsi:type="MulticastSubject">
                                  <Name>FastStepperCommands</Name>
                                </Expression>
                                <Expression xsi:type="WorkflowOutput" />
                              </Nodes>
                              <Edges>
                                <Edge From="0" To="2" Label="Source1" />
                                <Edge From="1" To="2" Label="Source2" />
                                <Edge From="2" To="3" Label="Source1" />
                                <Edge From="3" To="4" Label="Source1" />
                              </Edges>
                            </Workflow>
                          </Builder>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="5" To="7" Label="Source1" />
                        <Edge From="6" To="7" Label="Source2" />
                        <Edge From="7" To="9" Label="Source1" />
                        <Edge From="8" To="9" Label="Source2" />
                        <Edge From="9" To="11" Label="Source1" />
                        <Edge From="10" To="11" Label="Source2" />
                        <Edge From="11" To="13" Label="Source1" />
                        <Edge From="12" To="13" Label="Source2" />
                        <Edge From="13" To="15" Label="Source1" />
                        <Edge From="14" To="15" Label="Source2" />
                        <Edge From="15" To="17" Label="Source1" />
                        <Edge From="16" To="17" Label="Source2" />
                        <Edge From="17" To="18" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject" TypeArguments="harp:HarpMessage">
                    <rx:Name>Commands</rx:Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="fstep:Device">
                      <harp:OperationMode>Active</harp:OperationMode>
                      <harp:OperationLed>On</harp:OperationLed>
                      <harp:DumpRegisters>true</harp:DumpRegisters>
                      <harp:VisualIndicators>On</harp:VisualIndicators>
                      <harp:Heartbeat>Enabled</harp:Heartbeat>
                      <harp:IgnoreErrors>false</harp:IgnoreErrors>
                      <harp:PortName>COM8</harp:PortName>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:PublishSubject">
                    <Name>Events</Name>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>LoomTriggerEvent</Name>
                  </Expression>
                  <Expression xsi:type="rx:SelectMany">
                    <Name>FormatHarp</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="rx:AsyncSubject">
                          <Name>source</Name>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>source</Name>
                        </Expression>
                        <Expression xsi:type="fstep:CreateMessage">
                          <harp:MessageType>Read</harp:MessageType>
                          <harp:Payload xsi:type="fstep:CreateAnalogInputPayload">
                            <fstep:AnalogInput>0</fstep:AnalogInput>
                          </harp:Payload>
                        </Expression>
                        <Expression xsi:type="MulticastSubject">
                          <Name>Commands</Name>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Events</Name>
                        </Expression>
                        <Expression xsi:type="fstep:Parse">
                          <harp:Register xsi:type="fstep:TimestampedAnalogInput" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Seconds</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="rx:AsyncSubject">
                          <Name>Timestamp</Name>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>source</Name>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Timestamp</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Zip" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="harp:CreateTimestamped" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Address" />
                        </Expression>
                        <Expression xsi:type="harp:Format">
                          <harp:MessageType>Write</harp:MessageType>
                          <harp:Register xsi:type="harp:FormatMessagePayload">
                            <harp:Address>200</harp:Address>
                            <harp:PayloadType>TimestampedU8</harp:PayloadType>
                          </harp:Register>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="5" Label="Source1" />
                        <Edge From="6" To="7" Label="Source1" />
                        <Edge From="7" To="8" Label="Source1" />
                        <Edge From="8" To="9" Label="Source1" />
                        <Edge From="9" To="10" Label="Source1" />
                        <Edge From="11" To="13" Label="Source1" />
                        <Edge From="12" To="13" Label="Source2" />
                        <Edge From="13" To="14" Label="Source1" />
                        <Edge From="14" To="16" Label="Source1" />
                        <Edge From="15" To="16" Label="Source2" />
                        <Edge From="16" To="17" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="rx:PublishSubject">
                    <Name>LoomEvents</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                  <Expression xsi:type="rx:BehaviorSubject" TypeArguments="p3:LoomAction">
                    <rx:Name>LoomAction</rx:Name>
                  </Expression>
                  <Expression xsi:type="rx:PublishSubject">
                    <Name>LoomTriggerEvent</Name>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Name>IsDrop</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" />
                        </Expression>
                        <Expression xsi:type="Equal">
                          <Operand xsi:type="WorkflowProperty" TypeArguments="p3:LoomAction">
                            <Value>Drop</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="2" Label="Source1" />
                        <Edge From="1" To="2" Label="Source2" />
                        <Edge From="2" To="3" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="HomeDistance" />
                    <Property Name="HomeDistanceOffset" />
                    <Property Name="MotorActivationTime" />
                    <Property Name="MotorDeactivationTime" />
                  </Expression>
                  <Expression xsi:type="rx:CreateObservable">
                    <Name>LoomSequence</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="HomeDistance" />
                          <Property Name="HomeDistanceOffset" />
                          <Property Name="HomeOffsetPauseTime" />
                          <Property Name="LiftToPosition" />
                          <Property Name="MotorDeactivationTime" />
                          <Property Name="MotorActivationTime" />
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>LoomSequence</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="GroupWorkflow">
                                <Name>GetPermission</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>LoomSequenceActive</Name>
                                    </Expression>
                                    <Expression xsi:type="BitwiseNot" />
                                    <Expression xsi:type="rx:Condition">
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="1" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Sample" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="BooleanProperty">
                                        <Value>true</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="MulticastSubject">
                                      <Name>LoomSequenceActive</Name>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="4" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source2" />
                                    <Edge From="4" To="5" Label="Source1" />
                                    <Edge From="5" To="6" Label="Source1" />
                                    <Edge From="6" To="7" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="HomeDistance" />
                                <Property Name="HomeDistanceOffset" />
                                <Property Name="HomeOffsetPauseTime" />
                                <Property Name="LiftToPosition" />
                                <Property Name="MotorDeactivationTime" />
                                <Property Name="MotorActivationTime" />
                                <Property Name="BottomPosition" />
                                <Property Name="Acceleration" />
                                <Property Name="MaxVelocity" />
                                <Property Name="BottomPauseTime" />
                              </Expression>
                              <Expression xsi:type="rx:SelectMany">
                                <Name>LoomDropSequence</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="BooleanProperty">
                                        <Value>true</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="MotorActivationTime" />
                                    </Expression>
                                    <Expression xsi:type="GroupWorkflow">
                                      <Name>EngagingMotor</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="MotorActivationTime" Category="Timings" />
                                          </Expression>
                                          <Expression xsi:type="rx:SelectMany">
                                            <Name>EnablingMotor</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="fstep:CreateMessage">
                                                  <harp:MessageType>Write</harp:MessageType>
                                                  <harp:Payload xsi:type="fstep:CreateControlPayload">
                                                    <fstep:Control>EnableMotor</fstep:Control>
                                                  </harp:Payload>
                                                </Expression>
                                                <Expression xsi:type="MulticastSubject">
                                                  <Name>Commands</Name>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="DueTime" DisplayName="MotorActivationTime" Description="Time to wait after we enable the motor untill we can use it" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Delay">
                                                    <rx:DueTime>PT0.1S</rx:DueTime>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Take">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source1" />
                                                <Edge From="2" To="4" Label="Source1" />
                                                <Edge From="3" To="4" Label="Source2" />
                                                <Edge From="4" To="5" Label="Source1" />
                                                <Edge From="5" To="6" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="Disable">
                                            <Builder xsi:type="ExternalizedMapping">
                                              <Property Name="BrakeReleaseTime" Category="EngageMotorTimings" />
                                            </Builder>
                                          </Expression>
                                          <Expression xsi:type="Disable">
                                            <Builder xsi:type="rx:SelectMany">
                                              <Name>ReleasingBrake</Name>
                                              <Workflow>
                                                <Nodes>
                                                  <Expression xsi:type="WorkflowInput">
                                                    <Name>Source1</Name>
                                                  </Expression>
                                                  <Expression xsi:type="rx:Sink">
                                                    <Name>LogStateMachine</Name>
                                                    <Workflow>
                                                      <Nodes>
                                                        <Expression xsi:type="WorkflowInput">
                                                          <Name>Source1</Name>
                                                        </Expression>
                                                        <Expression xsi:type="Combinator">
                                                          <Combinator xsi:type="StringProperty">
                                                            <Value>ReleasingBrake</Value>
                                                          </Combinator>
                                                        </Expression>
                                                        <Expression xsi:type="MulticastSubject">
                                                          <Name>LoomStateLog</Name>
                                                        </Expression>
                                                        <Expression xsi:type="WorkflowOutput" />
                                                      </Nodes>
                                                      <Edges>
                                                        <Edge From="0" To="1" Label="Source1" />
                                                        <Edge From="1" To="2" Label="Source1" />
                                                        <Edge From="2" To="3" Label="Source1" />
                                                      </Edges>
                                                    </Workflow>
                                                  </Expression>
                                                  <Expression xsi:type="fstep:CreateMessage">
                                                    <harp:MessageType>Write</harp:MessageType>
                                                    <harp:Payload xsi:type="fstep:CreateMotorBrakePayload">
                                                      <fstep:MotorBrake>BreakOff</fstep:MotorBrake>
                                                    </harp:Payload>
                                                  </Expression>
                                                  <Expression xsi:type="MulticastSubject">
                                                    <Name>FastStepperCommands</Name>
                                                  </Expression>
                                                  <Expression xsi:type="ExternalizedMapping">
                                                    <Property Name="DueTime" DisplayName="BrakeReleaseTime" />
                                                  </Expression>
                                                  <Expression xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Delay">
                                                      <rx:DueTime>PT0S</rx:DueTime>
                                                    </Combinator>
                                                  </Expression>
                                                  <Expression xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Take">
                                                      <rx:Count>1</rx:Count>
                                                    </Combinator>
                                                  </Expression>
                                                  <Expression xsi:type="WorkflowOutput" />
                                                </Nodes>
                                                <Edges>
                                                  <Edge From="0" To="1" Label="Source1" />
                                                  <Edge From="1" To="2" Label="Source1" />
                                                  <Edge From="2" To="3" Label="Source1" />
                                                  <Edge From="3" To="5" Label="Source1" />
                                                  <Edge From="4" To="5" Label="Source2" />
                                                  <Edge From="5" To="6" Label="Source1" />
                                                  <Edge From="6" To="7" Label="Source1" />
                                                </Edges>
                                              </Workflow>
                                            </Builder>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="2" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source2" />
                                          <Edge From="2" To="4" Label="Source1" />
                                          <Edge From="3" To="4" Label="Source2" />
                                          <Edge From="4" To="5" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="BottomPosition" />
                                      <Property Name="Acceleration" />
                                      <Property Name="MaxVelocity" />
                                    </Expression>
                                    <Expression xsi:type="rx:SelectMany">
                                      <Name>Dropping</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="SubscribeSubject">
                                            <Name>Events</Name>
                                          </Expression>
                                          <Expression xsi:type="fstep:Parse">
                                            <harp:Register xsi:type="fstep:MoveToEvents" />
                                          </Expression>
                                          <Expression xsi:type="rx:Condition">
                                            <Name>MoveSuccessful</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="Equal">
                                                  <Operand xsi:type="WorkflowProperty" TypeArguments="fstep:MoveToEventsFlags">
                                                    <Value>MoveSuccessful</Value>
                                                  </Operand>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:Take">
                                              <rx:Count>1</rx:Count>
                                            </Combinator>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                          <Expression xsi:type="rx:Condition">
                                            <Name>MoveNotSuccessful</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="NotEqual">
                                                  <Operand xsi:type="WorkflowProperty" TypeArguments="fstep:MoveToEventsFlags">
                                                    <Value>MoveSuccessful</Value>
                                                  </Operand>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="aeon:ThrowException">
                                              <aeon:Message>MoveNotSuccessful</aeon:Message>
                                            </Combinator>
                                          </Expression>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="MoveTo" DisplayName="BottomPosition" Category="Distances" />
                                            <Property Name="Acceleration" />
                                            <Property Name="MaxVelocity" />
                                          </Expression>
                                          <Expression xsi:type="IncludeWorkflow" Path="Extensions\MoveToParametric.bonsai">
                                            <MoveTo>3000</MoveTo>
                                            <MinVelocity>400</MinVelocity>
                                            <MaxVelocity>10000</MaxVelocity>
                                            <Acceleration>18000</Acceleration>
                                            <Deceleration>-20000</Deceleration>
                                            <AccelerationJerk>-8000</AccelerationJerk>
                                            <DecelerationJerk>4000</DecelerationJerk>
                                          </Expression>
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="1" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source1" />
                                          <Edge From="1" To="5" Label="Source1" />
                                          <Edge From="2" To="3" Label="Source1" />
                                          <Edge From="3" To="4" Label="Source1" />
                                          <Edge From="5" To="6" Label="Source1" />
                                          <Edge From="7" To="9" Label="Source1" />
                                          <Edge From="8" To="9" Label="Source2" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="BottomPauseTime" />
                                    </Expression>
                                    <Expression xsi:type="rx:SelectMany">
                                      <Name>Bottom</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="DueTime" DisplayName="BottomPauseTime" />
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:Delay">
                                              <rx:DueTime>PT2S</rx:DueTime>
                                            </Combinator>
                                          </Expression>
                                          <Expression xsi:type="Combinator">
                                            <Combinator xsi:type="rx:Take">
                                              <rx:Count>1</rx:Count>
                                            </Combinator>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="2" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source2" />
                                          <Edge From="2" To="3" Label="Source1" />
                                          <Edge From="3" To="4" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="HomeDistance" Category="Distances" />
                                      <Property Name="HomeOffsetPauseTime" Description="Time to wait after the homing completes untill it moves slightly down" />
                                      <Property Name="HomeDistanceOffset" Category="Distances" />
                                      <Property Name="LiftToPosition" Category="Distances" />
                                    </Expression>
                                    <Expression xsi:type="GroupWorkflow">
                                      <Name>Homing</Name>
                                      <Workflow>
                                        <Nodes>
                                          <Expression xsi:type="WorkflowInput">
                                            <Name>Source1</Name>
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="LiftToPosition" />
                                          </Expression>
                                          <Expression xsi:type="rx:SelectMany">
                                            <Name>Lifting</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Events</Name>
                                                </Expression>
                                                <Expression xsi:type="fstep:Parse">
                                                  <harp:Register xsi:type="fstep:MoveToEvents" />
                                                </Expression>
                                                <Expression xsi:type="rx:Condition">
                                                  <Name>MoveSuccessful</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="WorkflowInput">
                                                        <Name>Source1</Name>
                                                      </Expression>
                                                      <Expression xsi:type="Equal">
                                                        <Operand xsi:type="WorkflowProperty" TypeArguments="fstep:MoveToEventsFlags">
                                                          <Value>MoveSuccessful</Value>
                                                        </Operand>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="1" Label="Source1" />
                                                      <Edge From="1" To="2" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Take">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                                <Expression xsi:type="rx:Condition">
                                                  <Name>MoveNotSuccessful</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="WorkflowInput">
                                                        <Name>Source1</Name>
                                                      </Expression>
                                                      <Expression xsi:type="NotEqual">
                                                        <Operand xsi:type="WorkflowProperty" TypeArguments="fstep:MoveToEventsFlags">
                                                          <Value>MoveSuccessful</Value>
                                                        </Operand>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="1" Label="Source1" />
                                                      <Edge From="1" To="2" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="aeon:ThrowException">
                                                    <aeon:Message>MoveNotSuccessful</aeon:Message>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="MoveTo" DisplayName="LiftToPosition" />
                                                </Expression>
                                                <Expression xsi:type="IncludeWorkflow" Path="Extensions\MoveToParametric.bonsai">
                                                  <MoveTo>200</MoveTo>
                                                  <MinVelocity>200</MinVelocity>
                                                  <MaxVelocity>800</MaxVelocity>
                                                  <Acceleration>1000</Acceleration>
                                                  <Deceleration>-1000</Deceleration>
                                                  <AccelerationJerk>0</AccelerationJerk>
                                                  <DecelerationJerk>0</DecelerationJerk>
                                                </Expression>
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source1" />
                                                <Edge From="1" To="5" Label="Source1" />
                                                <Edge From="2" To="3" Label="Source1" />
                                                <Edge From="3" To="4" Label="Source1" />
                                                <Edge From="5" To="6" Label="Source1" />
                                                <Edge From="7" To="9" Label="Source1" />
                                                <Edge From="8" To="9" Label="Source2" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="HomeDistance" Category="Distances" />
                                          </Expression>
                                          <Expression xsi:type="rx:SelectMany">
                                            <Name>Homing</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Events</Name>
                                                </Expression>
                                                <Expression xsi:type="fstep:Parse">
                                                  <harp:Register xsi:type="fstep:HomeStepsEvents" />
                                                </Expression>
                                                <Expression xsi:type="rx:Condition">
                                                  <Name>HomingSuccessful</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="WorkflowInput">
                                                        <Name>Source1</Name>
                                                      </Expression>
                                                      <Expression xsi:type="Equal">
                                                        <Operand xsi:type="WorkflowProperty" TypeArguments="fstep:HomeStepsEventsFlags">
                                                          <Value>HomingSuccessful</Value>
                                                        </Operand>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="1" Label="Source1" />
                                                      <Edge From="1" To="2" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Take">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                                <Expression xsi:type="rx:Condition">
                                                  <Name>HomingNotSuccessful</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="WorkflowInput">
                                                        <Name>Source1</Name>
                                                      </Expression>
                                                      <Expression xsi:type="NotEqual">
                                                        <Operand xsi:type="WorkflowProperty" TypeArguments="fstep:HomeStepsEventsFlags">
                                                          <Value>HomingSuccessful</Value>
                                                        </Operand>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="1" Label="Source1" />
                                                      <Edge From="1" To="2" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="aeon:ThrowException">
                                                    <aeon:Message>HomingNotSuccessful</aeon:Message>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="HomeSteps" DisplayName="HomeDistance" />
                                                </Expression>
                                                <Expression xsi:type="fstep:CreateMessage">
                                                  <harp:MessageType>Write</harp:MessageType>
                                                  <harp:Payload xsi:type="fstep:CreateHomeStepsPayload">
                                                    <fstep:HomeSteps>-1000</fstep:HomeSteps>
                                                  </harp:Payload>
                                                </Expression>
                                                <Expression xsi:type="MulticastSubject">
                                                  <Name>Commands</Name>
                                                </Expression>
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source1" />
                                                <Edge From="1" To="5" Label="Source1" />
                                                <Edge From="2" To="3" Label="Source1" />
                                                <Edge From="3" To="4" Label="Source1" />
                                                <Edge From="5" To="6" Label="Source1" />
                                                <Edge From="7" To="9" Label="Source1" />
                                                <Edge From="8" To="9" Label="Source2" />
                                                <Edge From="9" To="10" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="HomeOffsetPauseTime" Category="Timings" />
                                          </Expression>
                                          <Expression xsi:type="rx:SelectMany">
                                            <Name>Home</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="DueTime" DisplayName="HomeOffsetPauseTime" />
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Delay">
                                                    <rx:DueTime>PT0.2S</rx:DueTime>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Take">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="2" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source2" />
                                                <Edge From="2" To="3" Label="Source1" />
                                                <Edge From="3" To="4" Label="Source1" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="ExternalizedMapping">
                                            <Property Name="HomeDistanceOffset" />
                                          </Expression>
                                          <Expression xsi:type="rx:SelectMany">
                                            <Name>Home Offset</Name>
                                            <Workflow>
                                              <Nodes>
                                                <Expression xsi:type="SubscribeSubject">
                                                  <Name>Events</Name>
                                                </Expression>
                                                <Expression xsi:type="fstep:Parse">
                                                  <harp:Register xsi:type="fstep:MoveToEvents" />
                                                </Expression>
                                                <Expression xsi:type="rx:Condition">
                                                  <Name>MoveSuccessful</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="WorkflowInput">
                                                        <Name>Source1</Name>
                                                      </Expression>
                                                      <Expression xsi:type="Equal">
                                                        <Operand xsi:type="WorkflowProperty" TypeArguments="fstep:MoveToEventsFlags">
                                                          <Value>MoveSuccessful</Value>
                                                        </Operand>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="1" Label="Source1" />
                                                      <Edge From="1" To="2" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="rx:Take">
                                                    <rx:Count>1</rx:Count>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="WorkflowOutput" />
                                                <Expression xsi:type="rx:Condition">
                                                  <Name>MoveNotSuccessful</Name>
                                                  <Workflow>
                                                    <Nodes>
                                                      <Expression xsi:type="WorkflowInput">
                                                        <Name>Source1</Name>
                                                      </Expression>
                                                      <Expression xsi:type="NotEqual">
                                                        <Operand xsi:type="WorkflowProperty" TypeArguments="fstep:MoveToEventsFlags">
                                                          <Value>MoveSuccessful</Value>
                                                        </Operand>
                                                      </Expression>
                                                      <Expression xsi:type="WorkflowOutput" />
                                                    </Nodes>
                                                    <Edges>
                                                      <Edge From="0" To="1" Label="Source1" />
                                                      <Edge From="1" To="2" Label="Source1" />
                                                    </Edges>
                                                  </Workflow>
                                                </Expression>
                                                <Expression xsi:type="Combinator">
                                                  <Combinator xsi:type="aeon:ThrowException">
                                                    <aeon:Message>MoveNotSuccessful</aeon:Message>
                                                  </Combinator>
                                                </Expression>
                                                <Expression xsi:type="WorkflowInput">
                                                  <Name>Source1</Name>
                                                </Expression>
                                                <Expression xsi:type="ExternalizedMapping">
                                                  <Property Name="MoveTo" DisplayName="HomeDistanceOffset" />
                                                </Expression>
                                                <Expression xsi:type="IncludeWorkflow" Path="Extensions\MoveToParametric.bonsai">
                                                  <MoveTo>42</MoveTo>
                                                  <MinVelocity>200</MinVelocity>
                                                  <MaxVelocity>400</MaxVelocity>
                                                  <Acceleration>500</Acceleration>
                                                  <Deceleration>-500</Deceleration>
                                                  <AccelerationJerk>0</AccelerationJerk>
                                                  <DecelerationJerk>0</DecelerationJerk>
                                                </Expression>
                                              </Nodes>
                                              <Edges>
                                                <Edge From="0" To="1" Label="Source1" />
                                                <Edge From="1" To="2" Label="Source1" />
                                                <Edge From="1" To="5" Label="Source1" />
                                                <Edge From="2" To="3" Label="Source1" />
                                                <Edge From="3" To="4" Label="Source1" />
                                                <Edge From="5" To="6" Label="Source1" />
                                                <Edge From="7" To="9" Label="Source1" />
                                                <Edge From="8" To="9" Label="Source2" />
                                              </Edges>
                                            </Workflow>
                                          </Expression>
                                          <Expression xsi:type="WorkflowOutput" />
                                        </Nodes>
                                        <Edges>
                                          <Edge From="0" To="2" Label="Source1" />
                                          <Edge From="1" To="2" Label="Source2" />
                                          <Edge From="2" To="4" Label="Source1" />
                                          <Edge From="3" To="4" Label="Source2" />
                                          <Edge From="4" To="6" Label="Source1" />
                                          <Edge From="5" To="6" Label="Source2" />
                                          <Edge From="6" To="8" Label="Source1" />
                                          <Edge From="7" To="8" Label="Source2" />
                                          <Edge From="8" To="9" Label="Source1" />
                                        </Edges>
                                      </Workflow>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="MotorDeactivationTime" />
                                    </Expression>
                                    <Expression xsi:type="Disable">
                                      <Builder xsi:type="GroupWorkflow">
                                        <Name>DisengagingMotor</Name>
                                        <Workflow>
                                          <Nodes>
                                            <Expression xsi:type="WorkflowInput">
                                              <Name>Source1</Name>
                                            </Expression>
                                            <Expression xsi:type="Disable">
                                              <Builder xsi:type="ExternalizedMapping">
                                                <Property Name="BrakeLockTime" Category="DisengageMotorTimings" />
                                              </Builder>
                                            </Expression>
                                            <Expression xsi:type="Disable">
                                              <Builder xsi:type="rx:SelectMany">
                                                <Name>LockingBrake</Name>
                                                <Workflow>
                                                  <Nodes>
                                                    <Expression xsi:type="WorkflowInput">
                                                      <Name>Source1</Name>
                                                    </Expression>
                                                    <Expression xsi:type="rx:Sink">
                                                      <Name>LogStateMachine</Name>
                                                      <Workflow>
                                                        <Nodes>
                                                          <Expression xsi:type="WorkflowInput">
                                                            <Name>Source1</Name>
                                                          </Expression>
                                                          <Expression xsi:type="Combinator">
                                                            <Combinator xsi:type="StringProperty">
                                                              <Value>LockingBrake</Value>
                                                            </Combinator>
                                                          </Expression>
                                                          <Expression xsi:type="MulticastSubject">
                                                            <Name>LoomStateLog</Name>
                                                          </Expression>
                                                          <Expression xsi:type="WorkflowOutput" />
                                                        </Nodes>
                                                        <Edges>
                                                          <Edge From="0" To="1" Label="Source1" />
                                                          <Edge From="1" To="2" Label="Source1" />
                                                          <Edge From="2" To="3" Label="Source1" />
                                                        </Edges>
                                                      </Workflow>
                                                    </Expression>
                                                    <Expression xsi:type="fstep:CreateMessage">
                                                      <harp:MessageType>Write</harp:MessageType>
                                                      <harp:Payload xsi:type="fstep:CreateMotorBrakePayload">
                                                        <fstep:MotorBrake>BreakOn</fstep:MotorBrake>
                                                      </harp:Payload>
                                                    </Expression>
                                                    <Expression xsi:type="MulticastSubject">
                                                      <Name>FastStepperCommands</Name>
                                                    </Expression>
                                                    <Expression xsi:type="ExternalizedMapping">
                                                      <Property Name="DueTime" DisplayName="BrakeLockTime" />
                                                    </Expression>
                                                    <Expression xsi:type="Combinator">
                                                      <Combinator xsi:type="rx:Delay">
                                                        <rx:DueTime>PT1S</rx:DueTime>
                                                      </Combinator>
                                                    </Expression>
                                                    <Expression xsi:type="Combinator">
                                                      <Combinator xsi:type="rx:Take">
                                                        <rx:Count>1</rx:Count>
                                                      </Combinator>
                                                    </Expression>
                                                    <Expression xsi:type="WorkflowOutput" />
                                                  </Nodes>
                                                  <Edges>
                                                    <Edge From="0" To="1" Label="Source1" />
                                                    <Edge From="1" To="2" Label="Source1" />
                                                    <Edge From="2" To="3" Label="Source1" />
                                                    <Edge From="3" To="5" Label="Source1" />
                                                    <Edge From="4" To="5" Label="Source2" />
                                                    <Edge From="5" To="6" Label="Source1" />
                                                    <Edge From="6" To="7" Label="Source1" />
                                                  </Edges>
                                                </Workflow>
                                              </Builder>
                                            </Expression>
                                            <Expression xsi:type="ExternalizedMapping">
                                              <Property Name="MotorDeactivationTime" Category="Timings" />
                                            </Expression>
                                            <Expression xsi:type="rx:SelectMany">
                                              <Name>DisablingMotor</Name>
                                              <Workflow>
                                                <Nodes>
                                                  <Expression xsi:type="WorkflowInput">
                                                    <Name>Source1</Name>
                                                  </Expression>
                                                  <Expression xsi:type="Disable">
                                                    <Builder xsi:type="rx:Sink">
                                                      <Workflow>
                                                        <Nodes>
                                                          <Expression xsi:type="WorkflowInput">
                                                            <Name>Source1</Name>
                                                          </Expression>
                                                          <Expression xsi:type="Combinator">
                                                            <Combinator xsi:type="StringProperty">
                                                              <Value>DisablingMotor</Value>
                                                            </Combinator>
                                                          </Expression>
                                                          <Expression xsi:type="MulticastSubject">
                                                            <Name>LoomStateLog</Name>
                                                          </Expression>
                                                          <Expression xsi:type="WorkflowOutput" />
                                                        </Nodes>
                                                        <Edges>
                                                          <Edge From="0" To="1" Label="Source1" />
                                                          <Edge From="1" To="2" Label="Source1" />
                                                          <Edge From="2" To="3" Label="Source1" />
                                                        </Edges>
                                                      </Workflow>
                                                    </Builder>
                                                  </Expression>
                                                  <Expression xsi:type="fstep:CreateMessage">
                                                    <harp:MessageType>Write</harp:MessageType>
                                                    <harp:Payload xsi:type="fstep:CreateControlPayload">
                                                      <fstep:Control>DisableMotor</fstep:Control>
                                                    </harp:Payload>
                                                  </Expression>
                                                  <Expression xsi:type="MulticastSubject">
                                                    <Name>Commands</Name>
                                                  </Expression>
                                                  <Expression xsi:type="ExternalizedMapping">
                                                    <Property Name="DueTime" DisplayName="MotorDeactivationTime" />
                                                  </Expression>
                                                  <Expression xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Delay">
                                                      <rx:DueTime>PT0.2S</rx:DueTime>
                                                    </Combinator>
                                                  </Expression>
                                                  <Expression xsi:type="Combinator">
                                                    <Combinator xsi:type="rx:Take">
                                                      <rx:Count>1</rx:Count>
                                                    </Combinator>
                                                  </Expression>
                                                  <Expression xsi:type="WorkflowOutput" />
                                                </Nodes>
                                                <Edges>
                                                  <Edge From="0" To="1" Label="Source1" />
                                                  <Edge From="1" To="2" Label="Source1" />
                                                  <Edge From="2" To="3" Label="Source1" />
                                                  <Edge From="3" To="5" Label="Source1" />
                                                  <Edge From="4" To="5" Label="Source2" />
                                                  <Edge From="5" To="6" Label="Source1" />
                                                  <Edge From="6" To="7" Label="Source1" />
                                                </Edges>
                                              </Workflow>
                                            </Expression>
                                            <Expression xsi:type="WorkflowOutput" />
                                          </Nodes>
                                          <Edges>
                                            <Edge From="0" To="2" Label="Source1" />
                                            <Edge From="1" To="2" Label="Source2" />
                                            <Edge From="2" To="4" Label="Source1" />
                                            <Edge From="3" To="4" Label="Source2" />
                                            <Edge From="4" To="5" Label="Source1" />
                                          </Edges>
                                        </Workflow>
                                      </Builder>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="3" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source2" />
                                    <Edge From="3" To="5" Label="Source1" />
                                    <Edge From="4" To="5" Label="Source2" />
                                    <Edge From="5" To="7" Label="Source1" />
                                    <Edge From="6" To="7" Label="Source2" />
                                    <Edge From="7" To="9" Label="Source1" />
                                    <Edge From="8" To="9" Label="Source2" />
                                    <Edge From="9" To="11" Label="Source1" />
                                    <Edge From="10" To="11" Label="Source2" />
                                    <Edge From="11" To="12" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="rx:Sink">
                                <Name>ReleasePermission</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="BooleanProperty">
                                        <Value>false</Value>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="MulticastSubject">
                                      <Name>LoomSequenceActive</Name>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="3" Label="Source1" />
                              <Edge From="2" To="3" Label="Source2" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="2" Label="Source1" />
                        <Edge From="1" To="2" Label="Source2" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="rx:Condition">
                    <Name>Homming</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Value" />
                        </Expression>
                        <Expression xsi:type="Equal">
                          <Operand xsi:type="WorkflowProperty" TypeArguments="p3:LoomAction">
                            <Value>Home</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="2" Label="Source1" />
                        <Edge From="1" To="2" Label="Source2" />
                        <Edge From="2" To="3" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="rx:CreateObservable">
                    <Name>HomeSequence</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>GetPermission</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>LoomSequenceActive</Name>
                              </Expression>
                              <Expression xsi:type="BitwiseNot" />
                              <Expression xsi:type="rx:Condition">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Zip" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="BooleanProperty">
                                  <Value>true</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>LoomSequenceActive</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="4" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="MotorActivationTime" />
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>EngagingMotor</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="MotorActivationTime" Category="Timings" />
                              </Expression>
                              <Expression xsi:type="rx:SelectMany">
                                <Name>EnablingMotor</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="fstep:CreateMessage">
                                      <harp:MessageType>Write</harp:MessageType>
                                      <harp:Payload xsi:type="fstep:CreateControlPayload">
                                        <fstep:Control>EnableMotor</fstep:Control>
                                      </harp:Payload>
                                    </Expression>
                                    <Expression xsi:type="MulticastSubject">
                                      <Name>Commands</Name>
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="DueTime" DisplayName="MotorActivationTime" Description="Time to wait after we enable the motor untill we can use it" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Delay">
                                        <rx:DueTime>PT0.1S</rx:DueTime>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Take">
                                        <rx:Count>1</rx:Count>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="4" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source2" />
                                    <Edge From="4" To="5" Label="Source1" />
                                    <Edge From="5" To="6" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="Disable">
                                <Builder xsi:type="ExternalizedMapping">
                                  <Property Name="BrakeReleaseTime" Category="EngageMotorTimings" />
                                </Builder>
                              </Expression>
                              <Expression xsi:type="Disable">
                                <Builder xsi:type="rx:SelectMany">
                                  <Name>ReleasingBrake</Name>
                                  <Workflow>
                                    <Nodes>
                                      <Expression xsi:type="WorkflowInput">
                                        <Name>Source1</Name>
                                      </Expression>
                                      <Expression xsi:type="rx:Sink">
                                        <Name>LogStateMachine</Name>
                                        <Workflow>
                                          <Nodes>
                                            <Expression xsi:type="WorkflowInput">
                                              <Name>Source1</Name>
                                            </Expression>
                                            <Expression xsi:type="Combinator">
                                              <Combinator xsi:type="StringProperty">
                                                <Value>ReleasingBrake</Value>
                                              </Combinator>
                                            </Expression>
                                            <Expression xsi:type="MulticastSubject">
                                              <Name>LoomStateLog</Name>
                                            </Expression>
                                            <Expression xsi:type="WorkflowOutput" />
                                          </Nodes>
                                          <Edges>
                                            <Edge From="0" To="1" Label="Source1" />
                                            <Edge From="1" To="2" Label="Source1" />
                                            <Edge From="2" To="3" Label="Source1" />
                                          </Edges>
                                        </Workflow>
                                      </Expression>
                                      <Expression xsi:type="fstep:CreateMessage">
                                        <harp:MessageType>Write</harp:MessageType>
                                        <harp:Payload xsi:type="fstep:CreateMotorBrakePayload">
                                          <fstep:MotorBrake>BreakOff</fstep:MotorBrake>
                                        </harp:Payload>
                                      </Expression>
                                      <Expression xsi:type="MulticastSubject">
                                        <Name>FastStepperCommands</Name>
                                      </Expression>
                                      <Expression xsi:type="ExternalizedMapping">
                                        <Property Name="DueTime" DisplayName="BrakeReleaseTime" />
                                      </Expression>
                                      <Expression xsi:type="Combinator">
                                        <Combinator xsi:type="rx:Delay">
                                          <rx:DueTime>PT0S</rx:DueTime>
                                        </Combinator>
                                      </Expression>
                                      <Expression xsi:type="Combinator">
                                        <Combinator xsi:type="rx:Take">
                                          <rx:Count>1</rx:Count>
                                        </Combinator>
                                      </Expression>
                                      <Expression xsi:type="WorkflowOutput" />
                                    </Nodes>
                                    <Edges>
                                      <Edge From="0" To="1" Label="Source1" />
                                      <Edge From="1" To="2" Label="Source1" />
                                      <Edge From="2" To="3" Label="Source1" />
                                      <Edge From="3" To="5" Label="Source1" />
                                      <Edge From="4" To="5" Label="Source2" />
                                      <Edge From="5" To="6" Label="Source1" />
                                      <Edge From="6" To="7" Label="Source1" />
                                    </Edges>
                                  </Workflow>
                                </Builder>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="2" To="4" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="HomeDistance" Category="Distances" />
                        </Expression>
                        <Expression xsi:type="rx:SelectMany">
                          <Name>Homing</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Events</Name>
                              </Expression>
                              <Expression xsi:type="fstep:Parse">
                                <harp:Register xsi:type="fstep:HomeStepsEvents" />
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Name>HomingSuccessful</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="Equal">
                                      <Operand xsi:type="WorkflowProperty" TypeArguments="fstep:HomeStepsEventsFlags">
                                        <Value>HomingSuccessful</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Take">
                                  <rx:Count>1</rx:Count>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                              <Expression xsi:type="rx:Condition">
                                <Name>HomingNotSuccessful</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="NotEqual">
                                      <Operand xsi:type="WorkflowProperty" TypeArguments="fstep:HomeStepsEventsFlags">
                                        <Value>HomingSuccessful</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="aeon:ThrowException">
                                  <aeon:Message>HomingNotSuccessful</aeon:Message>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="HomeSteps" DisplayName="HomeDistance" />
                              </Expression>
                              <Expression xsi:type="fstep:CreateMessage">
                                <harp:MessageType>Write</harp:MessageType>
                                <harp:Payload xsi:type="fstep:CreateHomeStepsPayload">
                                  <fstep:HomeSteps>-3500</fstep:HomeSteps>
                                </harp:Payload>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>Commands</Name>
                              </Expression>
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="1" To="5" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="7" To="9" Label="Source1" />
                              <Edge From="8" To="9" Label="Source2" />
                              <Edge From="9" To="10" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="HomeOffsetPauseTime" Category="Timings" />
                        </Expression>
                        <Expression xsi:type="rx:SelectMany">
                          <Name>Home</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="DueTime" DisplayName="HomeOffsetPauseTime" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Delay">
                                  <rx:DueTime>PT0.2S</rx:DueTime>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Take">
                                  <rx:Count>1</rx:Count>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="HomeDistanceOffset" Category="Distances" />
                        </Expression>
                        <Expression xsi:type="rx:SelectMany">
                          <Name>Home Offset</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Events</Name>
                              </Expression>
                              <Expression xsi:type="fstep:Parse">
                                <harp:Register xsi:type="fstep:MoveToEvents" />
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Name>MoveSuccessful</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="Equal">
                                      <Operand xsi:type="WorkflowProperty" TypeArguments="fstep:MoveToEventsFlags">
                                        <Value>MoveSuccessful</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Take">
                                  <rx:Count>1</rx:Count>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                              <Expression xsi:type="rx:Condition">
                                <Name>MoveNotSuccessful</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="NotEqual">
                                      <Operand xsi:type="WorkflowProperty" TypeArguments="fstep:MoveToEventsFlags">
                                        <Value>MoveSuccessful</Value>
                                      </Operand>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="aeon:ThrowException">
                                  <aeon:Message>MoveNotSuccessful</aeon:Message>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="MoveTo" DisplayName="HomeDistanceOffset" />
                              </Expression>
                              <Expression xsi:type="IncludeWorkflow" Path="Extensions\MoveToParametric.bonsai">
                                <MoveTo>42</MoveTo>
                                <MinVelocity>200</MinVelocity>
                                <MaxVelocity>400</MaxVelocity>
                                <Acceleration>500</Acceleration>
                                <Deceleration>-500</Deceleration>
                                <AccelerationJerk>0</AccelerationJerk>
                                <DecelerationJerk>0</DecelerationJerk>
                              </Expression>
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="1" To="5" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="3" To="4" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="7" To="9" Label="Source1" />
                              <Edge From="8" To="9" Label="Source2" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="MotorDeactivationTime" />
                        </Expression>
                        <Expression xsi:type="Disable">
                          <Builder xsi:type="GroupWorkflow">
                            <Name>DisengagingMotor</Name>
                            <Workflow>
                              <Nodes>
                                <Expression xsi:type="WorkflowInput">
                                  <Name>Source1</Name>
                                </Expression>
                                <Expression xsi:type="Disable">
                                  <Builder xsi:type="ExternalizedMapping">
                                    <Property Name="BrakeLockTime" Category="DisengageMotorTimings" />
                                  </Builder>
                                </Expression>
                                <Expression xsi:type="Disable">
                                  <Builder xsi:type="rx:SelectMany">
                                    <Name>LockingBrake</Name>
                                    <Workflow>
                                      <Nodes>
                                        <Expression xsi:type="WorkflowInput">
                                          <Name>Source1</Name>
                                        </Expression>
                                        <Expression xsi:type="rx:Sink">
                                          <Name>LogStateMachine</Name>
                                          <Workflow>
                                            <Nodes>
                                              <Expression xsi:type="WorkflowInput">
                                                <Name>Source1</Name>
                                              </Expression>
                                              <Expression xsi:type="Combinator">
                                                <Combinator xsi:type="StringProperty">
                                                  <Value>LockingBrake</Value>
                                                </Combinator>
                                              </Expression>
                                              <Expression xsi:type="MulticastSubject">
                                                <Name>LoomStateLog</Name>
                                              </Expression>
                                              <Expression xsi:type="WorkflowOutput" />
                                            </Nodes>
                                            <Edges>
                                              <Edge From="0" To="1" Label="Source1" />
                                              <Edge From="1" To="2" Label="Source1" />
                                              <Edge From="2" To="3" Label="Source1" />
                                            </Edges>
                                          </Workflow>
                                        </Expression>
                                        <Expression xsi:type="fstep:CreateMessage">
                                          <harp:MessageType>Write</harp:MessageType>
                                          <harp:Payload xsi:type="fstep:CreateMotorBrakePayload">
                                            <fstep:MotorBrake>BreakOn</fstep:MotorBrake>
                                          </harp:Payload>
                                        </Expression>
                                        <Expression xsi:type="MulticastSubject">
                                          <Name>FastStepperCommands</Name>
                                        </Expression>
                                        <Expression xsi:type="ExternalizedMapping">
                                          <Property Name="DueTime" DisplayName="BrakeLockTime" />
                                        </Expression>
                                        <Expression xsi:type="Combinator">
                                          <Combinator xsi:type="rx:Delay">
                                            <rx:DueTime>PT1S</rx:DueTime>
                                          </Combinator>
                                        </Expression>
                                        <Expression xsi:type="Combinator">
                                          <Combinator xsi:type="rx:Take">
                                            <rx:Count>1</rx:Count>
                                          </Combinator>
                                        </Expression>
                                        <Expression xsi:type="WorkflowOutput" />
                                      </Nodes>
                                      <Edges>
                                        <Edge From="0" To="1" Label="Source1" />
                                        <Edge From="1" To="2" Label="Source1" />
                                        <Edge From="2" To="3" Label="Source1" />
                                        <Edge From="3" To="5" Label="Source1" />
                                        <Edge From="4" To="5" Label="Source2" />
                                        <Edge From="5" To="6" Label="Source1" />
                                        <Edge From="6" To="7" Label="Source1" />
                                      </Edges>
                                    </Workflow>
                                  </Builder>
                                </Expression>
                                <Expression xsi:type="ExternalizedMapping">
                                  <Property Name="MotorDeactivationTime" Category="Timings" />
                                </Expression>
                                <Expression xsi:type="rx:SelectMany">
                                  <Name>DisablingMotor</Name>
                                  <Workflow>
                                    <Nodes>
                                      <Expression xsi:type="WorkflowInput">
                                        <Name>Source1</Name>
                                      </Expression>
                                      <Expression xsi:type="Disable">
                                        <Builder xsi:type="rx:Sink">
                                          <Workflow>
                                            <Nodes>
                                              <Expression xsi:type="WorkflowInput">
                                                <Name>Source1</Name>
                                              </Expression>
                                              <Expression xsi:type="Combinator">
                                                <Combinator xsi:type="StringProperty">
                                                  <Value>DisablingMotor</Value>
                                                </Combinator>
                                              </Expression>
                                              <Expression xsi:type="MulticastSubject">
                                                <Name>LoomStateLog</Name>
                                              </Expression>
                                              <Expression xsi:type="WorkflowOutput" />
                                            </Nodes>
                                            <Edges>
                                              <Edge From="0" To="1" Label="Source1" />
                                              <Edge From="1" To="2" Label="Source1" />
                                              <Edge From="2" To="3" Label="Source1" />
                                            </Edges>
                                          </Workflow>
                                        </Builder>
                                      </Expression>
                                      <Expression xsi:type="fstep:CreateMessage">
                                        <harp:MessageType>Write</harp:MessageType>
                                        <harp:Payload xsi:type="fstep:CreateControlPayload">
                                          <fstep:Control>DisableMotor</fstep:Control>
                                        </harp:Payload>
                                      </Expression>
                                      <Expression xsi:type="MulticastSubject">
                                        <Name>Commands</Name>
                                      </Expression>
                                      <Expression xsi:type="ExternalizedMapping">
                                        <Property Name="DueTime" DisplayName="MotorDeactivationTime" />
                                      </Expression>
                                      <Expression xsi:type="Combinator">
                                        <Combinator xsi:type="rx:Delay">
                                          <rx:DueTime>PT0.2S</rx:DueTime>
                                        </Combinator>
                                      </Expression>
                                      <Expression xsi:type="Combinator">
                                        <Combinator xsi:type="rx:Take">
                                          <rx:Count>1</rx:Count>
                                        </Combinator>
                                      </Expression>
                                      <Expression xsi:type="WorkflowOutput" />
                                    </Nodes>
                                    <Edges>
                                      <Edge From="0" To="1" Label="Source1" />
                                      <Edge From="1" To="2" Label="Source1" />
                                      <Edge From="2" To="3" Label="Source1" />
                                      <Edge From="3" To="5" Label="Source1" />
                                      <Edge From="4" To="5" Label="Source2" />
                                      <Edge From="5" To="6" Label="Source1" />
                                      <Edge From="6" To="7" Label="Source1" />
                                    </Edges>
                                  </Workflow>
                                </Expression>
                                <Expression xsi:type="WorkflowOutput" />
                              </Nodes>
                              <Edges>
                                <Edge From="0" To="2" Label="Source1" />
                                <Edge From="1" To="2" Label="Source2" />
                                <Edge From="2" To="4" Label="Source1" />
                                <Edge From="3" To="4" Label="Source2" />
                                <Edge From="4" To="5" Label="Source1" />
                              </Edges>
                            </Workflow>
                          </Builder>
                        </Expression>
                        <Expression xsi:type="rx:Sink">
                          <Name>ReleasePermission</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="BooleanProperty">
                                  <Value>false</Value>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="MulticastSubject">
                                <Name>LoomSequenceActive</Name>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="3" Label="Source1" />
                        <Edge From="2" To="3" Label="Source2" />
                        <Edge From="3" To="5" Label="Source1" />
                        <Edge From="4" To="5" Label="Source2" />
                        <Edge From="5" To="7" Label="Source1" />
                        <Edge From="6" To="7" Label="Source2" />
                        <Edge From="7" To="9" Label="Source1" />
                        <Edge From="8" To="9" Label="Source2" />
                        <Edge From="9" To="11" Label="Source1" />
                        <Edge From="10" To="11" Label="Source2" />
                        <Edge From="11" To="12" Label="Source1" />
                        <Edge From="12" To="13" Label="Source1" />
                        <Edge From="13" To="14" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Merge" />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="11" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source2" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="12" To="13" Label="Source1" />
                  <Edge From="14" To="15" Label="Source1" />
                  <Edge From="15" To="16" Label="Source1" />
                  <Edge From="15" To="19" Label="Source1" />
                  <Edge From="16" To="18" Label="Source1" />
                  <Edge From="17" To="18" Label="Source2" />
                  <Edge From="17" To="20" Label="Source2" />
                  <Edge From="18" To="21" Label="Source1" />
                  <Edge From="19" To="20" Label="Source1" />
                  <Edge From="20" To="21" Label="Source2" />
                  <Edge From="21" To="22" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
          </Nodes>
          <Edges />
        </Workflow>
      </Expression>
      <Expression xsi:type="GroupWorkflow">
              <Name>CameraTopImagePreProcessing</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="cv:Resize">
                        <cv:Size>
                          <cv:Width>1440</cv:Width>
                          <cv:Height>1080</cv:Height>
                        </cv:Size>
                        <cv:Interpolation>Linear</cv:Interpolation>
                      </Combinator>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>CameraEvents</Name>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="harp:ConvertTimestamped">
                      <Name>Undistort</Name>
                      <Workflow>
                        <Nodes>
                          <Expression xsi:type="WorkflowInput">
                            <Name>Source1</Name>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>Image</Selector>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="cv:ResizeCanvas">
                              <cv:Size>
                                <cv:Width>1680</cv:Width>
                                <cv:Height>1260</cv:Height>
                              </cv:Size>
                              <cv:BorderType>Constant</cv:BorderType>
                              <cv:FillValue>
                                <cv:Val0>255</cv:Val0>
                                <cv:Val1>255</cv:Val1>
                                <cv:Val2>255</cv:Val2>
                                <cv:Val3>0</cv:Val3>
                              </cv:FillValue>
                              <cv:Offset xsi:nil="true" />
                            </Combinator>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="cv:Undistort">
                              <cv:ImageSize xsi:nil="true" />
                              <cv:Alpha>0</cv:Alpha>
                              <cv:FocalLength>
                                <cv:X>1000</cv:X>
                                <cv:Y>1000</cv:Y>
                              </cv:FocalLength>
                              <cv:PrincipalPoint>
                                <cv:X>840</cv:X>
                                <cv:Y>630</cv:Y>
                              </cv:PrincipalPoint>
                              <cv:RadialDistortion>
                                <cv:X>-0.3</cv:X>
                                <cv:Y>0</cv:Y>
                                <cv:Z>0</cv:Z>
                              </cv:RadialDistortion>
                              <cv:TangentialDistortion>
                                <cv:X>0</cv:X>
                                <cv:Y>0</cv:Y>
                              </cv:TangentialDistortion>
                            </Combinator>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="cv:Resize">
                              <cv:Size>
                                <cv:Width>1440</cv:Width>
                                <cv:Height>1080</cv:Height>
                              </cv:Size>
                              <cv:Interpolation>Linear</cv:Interpolation>
                            </Combinator>
                          </Expression>
                          <Expression xsi:type="MemberSelector">
                            <Selector>ChunkData</Selector>
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="rx:Zip" />
                          </Expression>
                          <Expression xsi:type="Combinator">
                            <Combinator xsi:type="p4:CreateVideoDataFrame" />
                          </Expression>
                          <Expression xsi:type="WorkflowOutput" />
                        </Nodes>
                        <Edges>
                          <Edge From="0" To="1" Label="Source1" />
                          <Edge From="0" To="5" Label="Source1" />
                          <Edge From="1" To="2" Label="Source1" />
                          <Edge From="2" To="3" Label="Source1" />
                          <Edge From="3" To="4" Label="Source1" />
                          <Edge From="4" To="6" Label="Source1" />
                          <Edge From="5" To="6" Label="Source2" />
                          <Edge From="6" To="7" Label="Source1" />
                          <Edge From="7" To="8" Label="Source1" />
                        </Edges>
                      </Workflow>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Name" DisplayName="ImagePreProcessingEvents" Description="The name of the shared subject" Category="Subject" />
                  </Expression>
                  <Expression xsi:type="rx:PublishSubject">
                    <Name>ProcessedImage</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="4" Label="Source1" />
                  <Edge From="3" To="4" Label="Source2" />
                  <Edge From="4" To="5" Label="Source2" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>TrackingTop</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Name" DisplayName="FrameEvents" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>ProcessedImage</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="WholeImageThreshold" />
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>BlobTracking</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="WholeImageThreshold" />
                        </Expression>
                        <Expression xsi:type="harp:ConvertTimestamped">
                          <Name>BinaryRegions</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Image</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="cv:MaskPolygon">
                                  <cv:Regions>
                                    <cv:ArrayOfPoint>
                                      <cv:Point>
                                        <cv:X>2</cv:X>
                                        <cv:Y>0</cv:Y>
                                      </cv:Point>
                                      <cv:Point>
                                        <cv:X>2436</cv:X>
                                        <cv:Y>10</cv:Y>
                                      </cv:Point>
                                      <cv:Point>
                                        <cv:X>2444</cv:X>
                                        <cv:Y>2047</cv:Y>
                                      </cv:Point>
                                      <cv:Point>
                                        <cv:X>38</cv:X>
                                        <cv:Y>2022</cv:Y>
                                      </cv:Point>
                                    </cv:ArrayOfPoint>
                                  </cv:Regions>
                                  <cv:MaskType>ToZero</cv:MaskType>
                                  <cv:FillValue>
                                    <cv:Val0>255</cv:Val0>
                                    <cv:Val1>0</cv:Val1>
                                    <cv:Val2>0</cv:Val2>
                                    <cv:Val3>0</cv:Val3>
                                  </cv:FillValue>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="ThresholdValue" DisplayName="WholeImageThreshold" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="cv:Threshold">
                                  <cv:ThresholdValue>32</cv:ThresholdValue>
                                  <cv:MaxValue>255</cv:MaxValue>
                                  <cv:ThresholdType>BinaryInv</cv:ThresholdType>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="cv:MorphologicalOperator">
                                  <cv:Size>
                                    <cv:Width>4</cv:Width>
                                    <cv:Height>4</cv:Height>
                                  </cv:Size>
                                  <cv:Anchor>
                                    <cv:X>-1</cv:X>
                                    <cv:Y>-1</cv:Y>
                                  </cv:Anchor>
                                  <cv:Shape>Rectangle</cv:Shape>
                                  <cv:Iterations>1</cv:Iterations>
                                  <cv:Operation>Open</cv:Operation>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="cv:FindContours">
                                  <cv:Mode>External</cv:Mode>
                                  <cv:Method>ChainApproxSimple</cv:Method>
                                  <cv:Offset>
                                    <cv:X>0</cv:X>
                                    <cv:Y>0</cv:Y>
                                  </cv:Offset>
                                  <cv:MinArea>10</cv:MinArea>
                                  <cv:MaxArea xsi:nil="true" />
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="cv:BinaryRegionAnalysis" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="cv:SortBinaryRegions" />
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="2" To="4" Label="Source1" />
                              <Edge From="3" To="4" Label="Source2" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                              <Edge From="7" To="8" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="2" Label="Source1" />
                        <Edge From="1" To="2" Label="Source2" />
                        <Edge From="2" To="3" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Name" DisplayName="TrackingEvents" />
                  </Expression>
                  <Expression xsi:type="rx:PublishSubject">
                    <Name>TrackingTop</Name>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="3" Label="Source1" />
                  <Edge From="2" To="3" Label="Source2" />
                  <Edge From="3" To="5" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                  <Edge From="5" To="6" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>BinaryRegionsTracking</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" DisplayName="NumberOfTrackingSubjects" />
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="IntProperty">
                      <Value>1</Value>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="rx:BehaviorSubject">
                    <Name>NumberOfTrackingSubjects</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Name" DisplayName="TrackingEvents" Description="Contours" Category="Subject" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>TrackingTop</Name>
                  </Expression>
                  <Expression xsi:type="harp:ConvertTimestamped">
                    <Name>BinaryRegionsTracking</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>NumberOfTrackingSubjects</Name>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="ExpectedNumberOfConnectedComponents" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="p4:BinaryRegionsTracking">
                            <p4:ExpectedNumberOfConnectedComponents>1</p4:ExpectedNumberOfConnectedComponents>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="3" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source2" />
                        <Edge From="3" To="4" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="scr:ExpressionCondition">
                    <scr:Name>NotNull</scr:Name>
                    <scr:Expression>it.Value != null</scr:Expression>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Name" DisplayName="BinaryRegionsEvents" Description="The name of the shared subject with binary regions tracking" Category="Subject" />
                  </Expression>
                  <Expression xsi:type="rx:PublishSubject">
                    <Name>BinaryRegionsTracking (Subject)</Name>
                  </Expression>
                  <Expression xsi:type="rx:SelectMany">
                    <Name>IndexConnectedComponents</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value.DistConnCompCollection.ConnCompCollection</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Concat" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Value</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:WithLatestFrom" />
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Seconds</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:WithLatestFrom" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="harp:CreateTimestamped" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:ElementIndex" />
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="0" To="3" Label="Source1" />
                        <Edge From="0" To="5" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="4" Label="Source1" />
                        <Edge From="3" To="4" Label="Source2" />
                        <Edge From="4" To="6" Label="Source1" />
                        <Edge From="5" To="6" Label="Source2" />
                        <Edge From="6" To="7" Label="Source1" />
                        <Edge From="7" To="8" Label="Source1" />
                        <Edge From="8" To="9" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="rx:GroupBy">
                    <rx:KeySelector>Index</rx:KeySelector>
                    <rx:ElementSelector>Value</rx:ElementSelector>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Name" DisplayName="BinaryRegionsObservable" Category="Subject" />
                  </Expression>
                  <Expression xsi:type="rx:ReplaySubject">
                    <Name>BinaryRegionsObservable</Name>
                    <rx:BufferSize xsi:nil="true" />
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="8" Label="Source1" />
                  <Edge From="7" To="8" Label="Source2" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="12" Label="Source1" />
                  <Edge From="11" To="12" Label="Source2" />
                  <Edge From="12" To="13" Label="Source2" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>MovementBehaviorTracking</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Name" DisplayName="ObservableBinaryRegions" Category="Subject" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>BinaryRegionsObservable</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="VelocityThreshold" />
                  </Expression>
                  <Expression xsi:type="rx:SelectMany">
                    <Name>MovementBehaviorTracking</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="rx:AsyncSubject">
                          <Name>source</Name>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>source</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Merge" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="VelocityThreshold" />
                        </Expression>
                        <Expression xsi:type="GroupWorkflow">
                          <Name>HeadTailTracking</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="VelocityThreshold" />
                              </Expression>
                              <Expression xsi:type="harp:ConvertTimestamped">
                                <Name>HeadTailVelocity</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Item1</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="cv:BinaryRegionExtremes">
                                        <cv:Method>MajorAxis</cv:Method>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Range">
                                        <rx:Start>0</rx:Start>
                                        <rx:Count>10</rx:Count>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="cv:CreatePoint2f">
                                        <cv:X>NaN</cv:X>
                                        <cv:Y>NaN</cv:Y>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Item1.Centroid</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Merge" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:BufferCount">
                                        <rx:Count>10</rx:Count>
                                        <rx:Skip>1</rx:Skip>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:WithLatestFrom" />
                                    </Expression>
                                    <Expression xsi:type="ExternalizedMapping">
                                      <Property Name="VelocityThreshold" />
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="p4:HeadTailVelocity">
                                        <p4:VelocityThreshold>20</p4:VelocityThreshold>
                                      </Combinator>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Item1</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:Zip" />
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="0" To="5" Label="Source1" />
                                    <Edge From="0" To="11" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="8" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="6" Label="Source1" />
                                    <Edge From="5" To="6" Label="Source2" />
                                    <Edge From="6" To="7" Label="Source1" />
                                    <Edge From="7" To="8" Label="Source2" />
                                    <Edge From="8" To="10" Label="Source1" />
                                    <Edge From="9" To="10" Label="Source2" />
                                    <Edge From="10" To="12" Label="Source1" />
                                    <Edge From="11" To="12" Label="Source2" />
                                    <Edge From="12" To="13" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="2" Label="Source1" />
                              <Edge From="1" To="2" Label="Source2" />
                              <Edge From="2" To="3" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>source</Name>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Key</Selector>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:WithLatestFrom" />
                        </Expression>
                        <Expression xsi:type="rx:GroupBy">
                          <rx:KeySelector>Item2</rx:KeySelector>
                          <rx:ElementSelector>Item1</rx:ElementSelector>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="6" Label="Source1" />
                        <Edge From="5" To="6" Label="Source2" />
                        <Edge From="6" To="9" Label="Source1" />
                        <Edge From="7" To="8" Label="Source1" />
                        <Edge From="8" To="9" Label="Source2" />
                        <Edge From="9" To="10" Label="Source1" />
                        <Edge From="10" To="11" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Name" DisplayName="HeadTailObservable" Category="Subject" />
                  </Expression>
                  <Expression xsi:type="rx:ReplaySubject">
                    <Name>HeadTailObservable</Name>
                    <rx:BufferSize xsi:nil="true" />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="3" Label="Source1" />
                  <Edge From="2" To="3" Label="Source2" />
                  <Edge From="3" To="5" Label="Source1" />
                  <Edge From="4" To="5" Label="Source2" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>SubjectLookAtAngle</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Name" DisplayName="HeadTail" Category="Subject" />
                  </Expression>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>HeadTailObservable</Name>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="X" />
                    <Property Name="Y" />
                  </Expression>
                  <Expression xsi:type="rx:SelectMany">
                    <Name>LoomAngle</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Take">
                            <rx:Count>1</rx:Count>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="MemberSelector">
                          <Selector>Key</Selector>
                        </Expression>
                        <Expression xsi:type="rx:AsyncSubject">
                          <Name>Id</Name>
                        </Expression>
                        <Expression xsi:type="rx:AsyncSubject">
                          <Name>Source</Name>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Source</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Merge" />
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="X" />
                          <Property Name="Y" />
                        </Expression>
                        <Expression xsi:type="harp:ConvertTimestamped">
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item1.Heading,Item1.Centroid</Selector>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item1</Selector>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Item2</Selector>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="X" Category="LoomPosition" />
                                <Property Name="Y" Category="LoomPosition" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="cv:CreatePoint2f">
                                  <cv:X>1844</cv:X>
                                  <cv:Y>1561</cv:Y>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="p4:AngleCalculator" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Zip" />
                              </Expression>
                              <Expression xsi:type="Subtract" />
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="p4:NormalizeAngle" />
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="1" To="3" Label="Source1" />
                              <Edge From="2" To="8" Label="Source1" />
                              <Edge From="3" To="6" Label="Source1" />
                              <Edge From="4" To="5" Label="Source1" />
                              <Edge From="5" To="6" Label="Source2" />
                              <Edge From="6" To="7" Label="Source1" />
                              <Edge From="7" To="8" Label="Source2" />
                              <Edge From="8" To="9" Label="Source1" />
                              <Edge From="9" To="10" Label="Source1" />
                              <Edge From="10" To="11" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>Id</Name>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:WithLatestFrom" />
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="1" To="4" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                        <Edge From="5" To="6" Label="Source1" />
                        <Edge From="6" To="8" Label="Source1" />
                        <Edge From="7" To="8" Label="Source2" />
                        <Edge From="8" To="10" Label="Source1" />
                        <Edge From="9" To="10" Label="Source2" />
                        <Edge From="10" To="11" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="rx:GroupBy">
                    <rx:KeySelector>Item2</rx:KeySelector>
                    <rx:ElementSelector>Item1</rx:ElementSelector>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Name" DisplayName="LoomAngle" Category="Subject" />
                  </Expression>
                  <Expression xsi:type="rx:ReplaySubject">
                    <Name>LookAtAngleObservable</Name>
                    <rx:BufferSize xsi:nil="true" />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="3" Label="Source1" />
                  <Edge From="2" To="3" Label="Source2" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="6" Label="Source1" />
                  <Edge From="5" To="6" Label="Source2" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>ProcessedImage</Name>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Value.Image</Selector>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>InPlace</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="HeadTail" />
                    <Property Name="RegionOfInterest1" />
                  </Expression>
                  <Expression xsi:type="rx:Defer">
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="Name" DisplayName="HeadTail" Category="Subject" />
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>HeadTailObservable</Name>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="RegionOfInterest1" />
                        </Expression>
                        <Expression xsi:type="rx:SelectMany">
                          <Name>LoomRegion</Name>
                          <Workflow>
                            <Nodes>
                              <Expression xsi:type="WorkflowInput">
                                <Name>Source1</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Take">
                                  <rx:Count>1</rx:Count>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Key</Selector>
                              </Expression>
                              <Expression xsi:type="rx:AsyncSubject">
                                <Name>Id</Name>
                              </Expression>
                              <Expression xsi:type="rx:AsyncSubject">
                                <Name>Source</Name>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Source</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Merge" />
                              </Expression>
                              <Expression xsi:type="harp:ConvertTimestamped">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Item1.Head</Selector>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="ExternalizedMapping">
                                <Property Name="Value" DisplayName="RegionOfInterest1" />
                              </Expression>
                              <Expression xsi:type="PropertySource" TypeArguments="cv:CropPolygon,p5:Point[][]">
                                <MemberName>Regions</MemberName>
                                <Value>
                                  <ArrayOfPoint>
                                    <Point>
                                      <X>1773</X>
                                      <Y>1559</Y>
                                    </Point>
                                    <Point>
                                      <X>1776</X>
                                      <Y>1573</Y>
                                    </Point>
                                    <Point>
                                      <X>1777</X>
                                      <Y>1589</Y>
                                    </Point>
                                    <Point>
                                      <X>1784</X>
                                      <Y>1603</Y>
                                    </Point>
                                    <Point>
                                      <X>1792</X>
                                      <Y>1615</Y>
                                    </Point>
                                    <Point>
                                      <X>1801</X>
                                      <Y>1625</Y>
                                    </Point>
                                    <Point>
                                      <X>1811</X>
                                      <Y>1634</Y>
                                    </Point>
                                    <Point>
                                      <X>1823</X>
                                      <Y>1641</Y>
                                    </Point>
                                    <Point>
                                      <X>1836</X>
                                      <Y>1645</Y>
                                    </Point>
                                    <Point>
                                      <X>1850</X>
                                      <Y>1646</Y>
                                    </Point>
                                    <Point>
                                      <X>1862</X>
                                      <Y>1645</Y>
                                    </Point>
                                    <Point>
                                      <X>1875</X>
                                      <Y>1641</Y>
                                    </Point>
                                    <Point>
                                      <X>1887</X>
                                      <Y>1634</Y>
                                    </Point>
                                    <Point>
                                      <X>1897</X>
                                      <Y>1625</Y>
                                    </Point>
                                    <Point>
                                      <X>1907</X>
                                      <Y>1615</Y>
                                    </Point>
                                    <Point>
                                      <X>1914</X>
                                      <Y>1603</Y>
                                    </Point>
                                    <Point>
                                      <X>1921</X>
                                      <Y>1589</Y>
                                    </Point>
                                    <Point>
                                      <X>1922</X>
                                      <Y>1573</Y>
                                    </Point>
                                    <Point>
                                      <X>1926</X>
                                      <Y>1559</Y>
                                    </Point>
                                    <Point>
                                      <X>1922</X>
                                      <Y>1543</Y>
                                    </Point>
                                    <Point>
                                      <X>1921</X>
                                      <Y>1527</Y>
                                    </Point>
                                    <Point>
                                      <X>1914</X>
                                      <Y>1515</Y>
                                    </Point>
                                    <Point>
                                      <X>1907</X>
                                      <Y>1501</Y>
                                    </Point>
                                    <Point>
                                      <X>1897</X>
                                      <Y>1491</Y>
                                    </Point>
                                    <Point>
                                      <X>1887</X>
                                      <Y>1483</Y>
                                    </Point>
                                    <Point>
                                      <X>1875</X>
                                      <Y>1476</Y>
                                    </Point>
                                    <Point>
                                      <X>1862</X>
                                      <Y>1471</Y>
                                    </Point>
                                    <Point>
                                      <X>1850</X>
                                      <Y>1471</Y>
                                    </Point>
                                    <Point>
                                      <X>1836</X>
                                      <Y>1471</Y>
                                    </Point>
                                    <Point>
                                      <X>1823</X>
                                      <Y>1476</Y>
                                    </Point>
                                    <Point>
                                      <X>1811</X>
                                      <Y>1483</Y>
                                    </Point>
                                    <Point>
                                      <X>1801</X>
                                      <Y>1491</Y>
                                    </Point>
                                    <Point>
                                      <X>1792</X>
                                      <Y>1501</Y>
                                    </Point>
                                    <Point>
                                      <X>1784</X>
                                      <Y>1515</Y>
                                    </Point>
                                    <Point>
                                      <X>1777</X>
                                      <Y>1527</Y>
                                    </Point>
                                    <Point>
                                      <X>1776</X>
                                      <Y>1543</Y>
                                    </Point>
                                    <Point>
                                      <X>1773</X>
                                      <Y>1559</Y>
                                    </Point>
                                    <Point>
                                      <X>2120</X>
                                      <Y>1508</Y>
                                    </Point>
                                    <Point>
                                      <X>2125</X>
                                      <Y>1578</Y>
                                    </Point>
                                    <Point>
                                      <X>2120</X>
                                      <Y>1646</Y>
                                    </Point>
                                    <Point>
                                      <X>2108</X>
                                      <Y>1712</Y>
                                    </Point>
                                    <Point>
                                      <X>2087</X>
                                      <Y>1772</Y>
                                    </Point>
                                    <Point>
                                      <X>2059</X>
                                      <Y>1828</Y>
                                    </Point>
                                    <Point>
                                      <X>2027</X>
                                      <Y>1877</Y>
                                    </Point>
                                    <Point>
                                      <X>1986</X>
                                      <Y>1916</Y>
                                    </Point>
                                    <Point>
                                      <X>1942</X>
                                      <Y>1945</Y>
                                    </Point>
                                    <Point>
                                      <X>1896</X>
                                      <Y>1962</Y>
                                    </Point>
                                    <Point>
                                      <X>1848</X>
                                      <Y>1968</Y>
                                    </Point>
                                    <Point>
                                      <X>1799</X>
                                      <Y>1962</Y>
                                    </Point>
                                    <Point>
                                      <X>1754</X>
                                      <Y>1945</Y>
                                    </Point>
                                    <Point>
                                      <X>1709</X>
                                      <Y>1916</Y>
                                    </Point>
                                    <Point>
                                      <X>1669</X>
                                      <Y>1877</Y>
                                    </Point>
                                    <Point>
                                      <X>1636</X>
                                      <Y>1828</Y>
                                    </Point>
                                    <Point>
                                      <X>1609</X>
                                      <Y>1772</Y>
                                    </Point>
                                    <Point>
                                      <X>1588</X>
                                      <Y>1712</Y>
                                    </Point>
                                    <Point>
                                      <X>1576</X>
                                      <Y>1646</Y>
                                    </Point>
                                    <Point>
                                      <X>1572</X>
                                      <Y>1578</Y>
                                    </Point>
                                    <Point>
                                      <X>1576</X>
                                      <Y>1508</Y>
                                    </Point>
                                    <Point>
                                      <X>1588</X>
                                      <Y>1442</Y>
                                    </Point>
                                    <Point>
                                      <X>1609</X>
                                      <Y>1382</Y>
                                    </Point>
                                    <Point>
                                      <X>1636</X>
                                      <Y>1326</Y>
                                    </Point>
                                    <Point>
                                      <X>1669</X>
                                      <Y>1277</Y>
                                    </Point>
                                    <Point>
                                      <X>1709</X>
                                      <Y>1238</Y>
                                    </Point>
                                    <Point>
                                      <X>1754</X>
                                      <Y>1208</Y>
                                    </Point>
                                    <Point>
                                      <X>1799</X>
                                      <Y>1192</Y>
                                    </Point>
                                    <Point>
                                      <X>1848</X>
                                      <Y>1186</Y>
                                    </Point>
                                    <Point>
                                      <X>1896</X>
                                      <Y>1192</Y>
                                    </Point>
                                    <Point>
                                      <X>1942</X>
                                      <Y>1208</Y>
                                    </Point>
                                    <Point>
                                      <X>1986</X>
                                      <Y>1238</Y>
                                    </Point>
                                    <Point>
                                      <X>2027</X>
                                      <Y>1277</Y>
                                    </Point>
                                    <Point>
                                      <X>2059</X>
                                      <Y>1326</Y>
                                    </Point>
                                    <Point>
                                      <X>2087</X>
                                      <Y>1382</Y>
                                    </Point>
                                    <Point>
                                      <X>2108</X>
                                      <Y>1442</Y>
                                    </Point>
                                    <Point>
                                      <X>2120</X>
                                      <Y>1508</Y>
                                    </Point>
                                  </ArrayOfPoint>
                                </Value>
                              </Expression>
                              <Expression xsi:type="PropertyMapping">
                                <PropertyMappings>
                                  <Property Name="Regions" />
                                </PropertyMappings>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="aeon:RegionContainsPoint">
                                  <aeon:Regions>
                                    <aeon:ArrayOfPoint>
                                      <aeon:Point>
                                        <aeon:X>1773</aeon:X>
                                        <aeon:Y>1559</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1776</aeon:X>
                                        <aeon:Y>1573</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1777</aeon:X>
                                        <aeon:Y>1589</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1784</aeon:X>
                                        <aeon:Y>1603</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1792</aeon:X>
                                        <aeon:Y>1615</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1801</aeon:X>
                                        <aeon:Y>1625</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1811</aeon:X>
                                        <aeon:Y>1634</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1823</aeon:X>
                                        <aeon:Y>1641</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1836</aeon:X>
                                        <aeon:Y>1645</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1850</aeon:X>
                                        <aeon:Y>1646</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1862</aeon:X>
                                        <aeon:Y>1645</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1875</aeon:X>
                                        <aeon:Y>1641</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1887</aeon:X>
                                        <aeon:Y>1634</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1897</aeon:X>
                                        <aeon:Y>1625</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1907</aeon:X>
                                        <aeon:Y>1615</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1914</aeon:X>
                                        <aeon:Y>1603</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1921</aeon:X>
                                        <aeon:Y>1589</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1922</aeon:X>
                                        <aeon:Y>1573</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1926</aeon:X>
                                        <aeon:Y>1559</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1922</aeon:X>
                                        <aeon:Y>1543</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1921</aeon:X>
                                        <aeon:Y>1527</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1914</aeon:X>
                                        <aeon:Y>1515</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1907</aeon:X>
                                        <aeon:Y>1501</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1897</aeon:X>
                                        <aeon:Y>1491</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1887</aeon:X>
                                        <aeon:Y>1483</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1875</aeon:X>
                                        <aeon:Y>1476</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1862</aeon:X>
                                        <aeon:Y>1471</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1850</aeon:X>
                                        <aeon:Y>1471</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1836</aeon:X>
                                        <aeon:Y>1471</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1823</aeon:X>
                                        <aeon:Y>1476</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1811</aeon:X>
                                        <aeon:Y>1483</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1801</aeon:X>
                                        <aeon:Y>1491</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1792</aeon:X>
                                        <aeon:Y>1501</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1784</aeon:X>
                                        <aeon:Y>1515</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1777</aeon:X>
                                        <aeon:Y>1527</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1776</aeon:X>
                                        <aeon:Y>1543</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1773</aeon:X>
                                        <aeon:Y>1559</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>2120</aeon:X>
                                        <aeon:Y>1508</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>2125</aeon:X>
                                        <aeon:Y>1578</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>2120</aeon:X>
                                        <aeon:Y>1646</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>2108</aeon:X>
                                        <aeon:Y>1712</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>2087</aeon:X>
                                        <aeon:Y>1772</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>2059</aeon:X>
                                        <aeon:Y>1828</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>2027</aeon:X>
                                        <aeon:Y>1877</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1986</aeon:X>
                                        <aeon:Y>1916</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1942</aeon:X>
                                        <aeon:Y>1945</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1896</aeon:X>
                                        <aeon:Y>1962</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1848</aeon:X>
                                        <aeon:Y>1968</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1799</aeon:X>
                                        <aeon:Y>1962</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1754</aeon:X>
                                        <aeon:Y>1945</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1709</aeon:X>
                                        <aeon:Y>1916</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1669</aeon:X>
                                        <aeon:Y>1877</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1636</aeon:X>
                                        <aeon:Y>1828</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1609</aeon:X>
                                        <aeon:Y>1772</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1588</aeon:X>
                                        <aeon:Y>1712</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1576</aeon:X>
                                        <aeon:Y>1646</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1572</aeon:X>
                                        <aeon:Y>1578</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1576</aeon:X>
                                        <aeon:Y>1508</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1588</aeon:X>
                                        <aeon:Y>1442</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1609</aeon:X>
                                        <aeon:Y>1382</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1636</aeon:X>
                                        <aeon:Y>1326</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1669</aeon:X>
                                        <aeon:Y>1277</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1709</aeon:X>
                                        <aeon:Y>1238</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1754</aeon:X>
                                        <aeon:Y>1208</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1799</aeon:X>
                                        <aeon:Y>1192</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1848</aeon:X>
                                        <aeon:Y>1186</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1896</aeon:X>
                                        <aeon:Y>1192</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1942</aeon:X>
                                        <aeon:Y>1208</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>1986</aeon:X>
                                        <aeon:Y>1238</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>2027</aeon:X>
                                        <aeon:Y>1277</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>2059</aeon:X>
                                        <aeon:Y>1326</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>2087</aeon:X>
                                        <aeon:Y>1382</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>2108</aeon:X>
                                        <aeon:Y>1442</aeon:Y>
                                      </aeon:Point>
                                      <aeon:Point>
                                        <aeon:X>2120</aeon:X>
                                        <aeon:Y>1508</aeon:Y>
                                      </aeon:Point>
                                    </aeon:ArrayOfPoint>
                                  </aeon:Regions>
                                </Combinator>
                              </Expression>
                              <Expression xsi:type="rx:Sink">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="SubscribeSubject">
                                      <Name>Id</Name>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:WithLatestFrom" />
                                    </Expression>
                                    <Expression xsi:type="rx:GroupBy">
                                      <rx:KeySelector>Item2</rx:KeySelector>
                                      <rx:ElementSelector>Item1</rx:ElementSelector>
                                    </Expression>
                                    <Expression xsi:type="MulticastSubject">
                                      <Name>InRegion</Name>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source2" />
                                    <Edge From="2" To="3" Label="Source1" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="5" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Name>Inside</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Value</Selector>
                                    </Expression>
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="rx:Condition">
                                <Name>Outside</Name>
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Value</Selector>
                                    </Expression>
                                    <Expression xsi:type="BitwiseNot" />
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="1" To="2" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="MemberSelector">
                                <Selector>Seconds</Selector>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:Zip" />
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="harp:CreateTimestamped" />
                              </Expression>
                              <Expression xsi:type="harp:ConvertTimestamped">
                                <Workflow>
                                  <Nodes>
                                    <Expression xsi:type="WorkflowInput">
                                      <Name>Source1</Name>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Item1.Seconds</Selector>
                                    </Expression>
                                    <Expression xsi:type="MemberSelector">
                                      <Selector>Item2.Seconds</Selector>
                                    </Expression>
                                    <Expression xsi:type="Combinator">
                                      <Combinator xsi:type="rx:WithLatestFrom" />
                                    </Expression>
                                    <Expression xsi:type="Subtract" />
                                    <Expression xsi:type="WorkflowOutput" />
                                  </Nodes>
                                  <Edges>
                                    <Edge From="0" To="1" Label="Source1" />
                                    <Edge From="0" To="2" Label="Source1" />
                                    <Edge From="1" To="3" Label="Source1" />
                                    <Edge From="2" To="3" Label="Source2" />
                                    <Edge From="3" To="4" Label="Source1" />
                                    <Edge From="4" To="5" Label="Source1" />
                                  </Edges>
                                </Workflow>
                              </Expression>
                              <Expression xsi:type="SubscribeSubject">
                                <Name>Id</Name>
                              </Expression>
                              <Expression xsi:type="Combinator">
                                <Combinator xsi:type="rx:WithLatestFrom" />
                              </Expression>
                              <Expression xsi:type="WorkflowOutput" />
                            </Nodes>
                            <Edges>
                              <Edge From="0" To="1" Label="Source1" />
                              <Edge From="1" To="2" Label="Source1" />
                              <Edge From="1" To="4" Label="Source1" />
                              <Edge From="2" To="3" Label="Source1" />
                              <Edge From="5" To="6" Label="Source1" />
                              <Edge From="6" To="7" Label="Source1" />
                              <Edge From="7" To="11" Label="Source1" />
                              <Edge From="8" To="9" Label="Source1" />
                              <Edge From="9" To="10" Label="Source1" />
                              <Edge From="10" To="11" Label="Source2" />
                              <Edge From="11" To="12" Label="Source1" />
                              <Edge From="12" To="13" Label="Source1" />
                              <Edge From="12" To="14" Label="Source1" />
                              <Edge From="13" To="15" Label="Source1" />
                              <Edge From="13" To="16" Label="Source1" />
                              <Edge From="14" To="15" Label="Source2" />
                              <Edge From="15" To="17" Label="Source1" />
                              <Edge From="16" To="17" Label="Source2" />
                              <Edge From="17" To="18" Label="Source1" />
                              <Edge From="18" To="19" Label="Source1" />
                              <Edge From="19" To="21" Label="Source1" />
                              <Edge From="20" To="21" Label="Source2" />
                              <Edge From="21" To="22" Label="Source1" />
                            </Edges>
                          </Workflow>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="3" Label="Source1" />
                        <Edge From="2" To="3" Label="Source2" />
                        <Edge From="3" To="4" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="rx:GroupBy">
                    <rx:KeySelector>Item2</rx:KeySelector>
                    <rx:ElementSelector>Item1</rx:ElementSelector>
                  </Expression>
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Name" DisplayName="LoomRegion" Category="Subject" />
                  </Expression>
                  <Expression xsi:type="rx:ReplaySubject">
                    <Name>InPlaceRegionObservable</Name>
                    <rx:BufferSize xsi:nil="true" />
                  </Expression>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="rx:ReplaySubject" TypeArguments="p6:IGroupedObservable(sys:Int32,harp:Timestamped(sys:Boolean))">
                    <rx:Name>InRegion</rx:Name>
                    <rx:BufferSize xsi:nil="true" />
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="4" Label="Source1" />
                  <Edge From="3" To="4" Label="Source2" />
                </Edges>
              </Workflow>
            </Expression>
          </Nodes>
          <Edges>
            <Edge From="6" To="7" Label="Source1" />
            <Edge From="7" To="8" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>Logger</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="IncludeWorkflow" Path="Aeon.Acquisition:RepositoryLogController.bonsai">
              <RepositoryPath>..\..\</RepositoryPath>
              <DataPath>D:\ProjectPhields</DataPath>
              <FallbackPath>D:\Tests</FallbackPath>
              <ChunkSize>1</ChunkSize>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>CameraControllerEvents</Name>
            </Expression>
            <Expression xsi:type="harp:Parse">
              <harp:Register xsi:type="harp:ParseMessagePayload">
                <harp:PayloadType>Timestamp</harp:PayloadType>
                <harp:IsArray>false</harp:IsArray>
              </harp:Register>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject">
              <Name>LoggerTimestamp</Name>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>CameraEvents</Name>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Aeon.Acquisition:LogVideo.bonsai">
              <Heartbeats />
              <ClosingDuration xsi:nil="true" />
              <LogName>VideoData</LogName>
              <FrameRate>50</FrameRate>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="rx:BufferTime">
                <rx:TimeSpan>PT1S</rx:TimeSpan>
              </Combinator>
            </Expression>
            <Expression xsi:type="MemberSelector">
              <Selector>Count</Selector>
            </Expression>
            <Expression xsi:type="ExternalizedMapping">
              <Property Name="WorkflowName" />
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Extensions\ExportMetadata.bonsai">
              <WorkflowName>PuffTests.bonsai</WorkflowName>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>SynchronizerEvents</Name>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Aeon.Acquisition:LogHarpState.bonsai">
              <LogName>ClockSynchronizer</LogName>
              <Heartbeats>Heartbeats</Heartbeats>
              <ClosingDuration>PT2S</ClosingDuration>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>CameraControllerEvents</Name>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Aeon.Acquisition:LogHarpState.bonsai">
              <LogName>CameraController</LogName>
              <Heartbeats />
              <ClosingDuration>PT2S</ClosingDuration>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>LoomEvents</Name>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Aeon.Acquisition:LogHarpState.bonsai">
              <LogName>FastStepper</LogName>
              <Heartbeats />
              <ClosingDuration>PT2S</ClosingDuration>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>BehaviorBoardEvents</Name>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Aeon.Acquisition:LogHarpState.bonsai">
              <LogName>BehaviorBoard</LogName>
              <Heartbeats />
              <ClosingDuration>PT2S</ClosingDuration>
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject" TypeArguments="harp:Timestamped(aeon-env:EnvironmentSubjectStateMetadata)">
              <rx:Name>SubjectState</rx:Name>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Aeon.Acquisition:LogData.bonsai">
              <Heartbeats>Heartbeats</Heartbeats>
              <ClosingDuration>PT2S</ClosingDuration>
              <LogName>Environment_SubjectState</LogName>
              <Selector>Seconds,Value.Id,Value.Weight,Value.Type</Selector>
            </Expression>
            <Expression xsi:type="SubscribeSubject">
              <Name>TrackingTop</Name>
            </Expression>
            <Expression xsi:type="Combinator">
              <Combinator xsi:type="aeon:FormatBinaryRegions" />
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Aeon.Acquisition:LogHarpState.bonsai">
              <LogName>CameraTop</LogName>
              <Heartbeats>Heartbeats</Heartbeats>
              <ClosingDuration>PT2S</ClosingDuration>
            </Expression>
            <Expression xsi:type="Annotation">
              <Name>ChangeToBinaryFormat</Name>
              <Text><![CDATA[]]></Text>
            </Expression>
            <Expression xsi:type="Annotation">
              <Name>BinaryRegionsObservable</Name>
              <Text><![CDATA[]]></Text>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Extensions\MergeIGroupObservables.bonsai">
              <IGroupObservableSubject>BinaryRegionsObservable</IGroupObservableSubject>
              <ExpectedGroupCount>NumberOfTrackingSubjects</ExpectedGroupCount>
            </Expression>
            <Expression xsi:type="harp:ConvertTimestamped">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item1.Item1</Selector>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Centroid</Selector>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item2</Selector>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>Id</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item1.Item2.Crossings</Selector>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>Crossings</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>new(
  it.Item2 as ID,
  it.Item3 as Crossings,
  it.Item1 as Centroid
)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="0" To="3" Label="Source1" />
                  <Edge From="0" To="5" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="7" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="7" Label="Source2" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source3" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Aeon.Acquisition:LogData.bonsai">
              <Heartbeats />
              <ClosingDuration xsi:nil="true" />
              <LogName>CameraTop_BinaryRegions</LogName>
              <Selector />
            </Expression>
            <Expression xsi:type="Annotation">
              <Name>HeadTailObservable</Name>
              <Text><![CDATA[]]></Text>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Extensions\MergeIGroupObservables.bonsai">
              <IGroupObservableSubject>HeadTailObservable</IGroupObservableSubject>
              <ExpectedGroupCount>NumberOfTrackingSubjects</ExpectedGroupCount>
            </Expression>
            <Expression xsi:type="harp:ConvertTimestamped">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item1.Item1</Selector>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Centroid</Selector>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Head</Selector>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Tail</Selector>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Heading</Selector>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Velocity</Selector>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item2</Selector>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>Id</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>new(
  it.Item6 as ID,
  it.Item1 as Centroid,
  it.Item2 as Head,
  it.Item3 as Tail,
  it.Item4 as Heading,
  it.Item5 as Velocity
)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="0" To="7" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="1" To="3" Label="Source1" />
                  <Edge From="1" To="4" Label="Source1" />
                  <Edge From="1" To="5" Label="Source1" />
                  <Edge From="1" To="6" Label="Source1" />
                  <Edge From="2" To="9" Label="Source1" />
                  <Edge From="3" To="9" Label="Source2" />
                  <Edge From="4" To="9" Label="Source3" />
                  <Edge From="5" To="9" Label="Source4" />
                  <Edge From="6" To="9" Label="Source5" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="8" To="9" Label="Source6" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Aeon.Acquisition:LogData.bonsai">
              <Heartbeats />
              <ClosingDuration xsi:nil="true" />
              <LogName>CameraTop_HeadTail</LogName>
              <Selector />
            </Expression>
            <Expression xsi:type="Annotation">
              <Name>LookAtAngleObservable</Name>
              <Text><![CDATA[]]></Text>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Extensions\MergeIGroupObservables.bonsai">
              <IGroupObservableSubject>LookAtAngleObservable</IGroupObservableSubject>
              <ExpectedGroupCount>NumberOfTrackingSubjects</ExpectedGroupCount>
            </Expression>
            <Expression xsi:type="harp:ConvertTimestamped">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item1</Selector>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item2</Selector>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>Id</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>new(
  it.Item2 as ID,
  it.Item1 as InLoomRegionDuration
)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="4" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source6" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Aeon.Acquisition:LogData.bonsai">
              <Heartbeats />
              <ClosingDuration xsi:nil="true" />
              <LogName>CameraTop_LookAtAngle</LogName>
              <Selector />
            </Expression>
            <Expression xsi:type="Annotation">
              <Name>InPlaceRegionObservable</Name>
              <Text><![CDATA[]]></Text>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Extensions\MergeIGroupObservables.bonsai">
              <IGroupObservableSubject>InPlaceRegionObservable</IGroupObservableSubject>
              <ExpectedGroupCount>NumberOfTrackingSubjects</ExpectedGroupCount>
            </Expression>
            <Expression xsi:type="harp:ConvertTimestamped">
              <Workflow>
                <Nodes>
                  <Expression xsi:type="WorkflowInput">
                    <Name>Source1</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item1</Selector>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Item2</Selector>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>Id</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="rx:Zip" />
                  </Expression>
                  <Expression xsi:type="scr:ExpressionTransform">
                    <scr:Expression>new(
  it.Item2 as ID,
  it.Item1 as LoomAngle
)</scr:Expression>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="0" To="2" Label="Source1" />
                  <Edge From="1" To="4" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source6" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Aeon.Acquisition:LogData.bonsai">
              <Heartbeats />
              <ClosingDuration xsi:nil="true" />
              <LogName>CameraTop_InPlaceRegion</LogName>
              <Selector />
            </Expression>
            <Expression xsi:type="rx:BehaviorSubject" TypeArguments="harp:Timestamped(aeon-env:EnvironmentStateMetadata)">
              <rx:Name>EnvironmentState</rx:Name>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Aeon.Acquisition:LogData.bonsai">
              <Heartbeats>Heartbeats</Heartbeats>
              <ClosingDuration>PT2S</ClosingDuration>
              <LogName>Environment_EnvironmentState</LogName>
              <Selector>Seconds,Value.Type</Selector>
            </Expression>
            <Expression xsi:type="rx:PublishSubject" TypeArguments="harp:Timestamped(aeon:LogMessage)">
              <rx:Name>Annotations</rx:Name>
            </Expression>
            <Expression xsi:type="IncludeWorkflow" Path="Aeon.Acquisition:LogData.bonsai">
              <Heartbeats>Heartbeats</Heartbeats>
              <ClosingDuration>PT2S</ClosingDuration>
              <LogName>Environment_MessageLog</LogName>
              <Selector>Seconds,Value.Priority,Value.Type,Value.Message</Selector>
            </Expression>
          </Nodes>
          <Edges>
            <Edge From="1" To="2" Label="Source1" />
            <Edge From="2" To="3" Label="Source1" />
            <Edge From="4" To="5" Label="Source1" />
            <Edge From="5" To="6" Label="Source1" />
            <Edge From="6" To="7" Label="Source1" />
            <Edge From="8" To="9" Label="Source1" />
            <Edge From="10" To="11" Label="Source1" />
            <Edge From="12" To="13" Label="Source1" />
            <Edge From="14" To="15" Label="Source1" />
            <Edge From="16" To="17" Label="Source1" />
            <Edge From="18" To="19" Label="Source1" />
            <Edge From="20" To="21" Label="Source1" />
            <Edge From="21" To="22" Label="Source1" />
            <Edge From="23" To="24" Label="Source1" />
            <Edge From="23" To="28" Label="Source1" />
            <Edge From="23" To="32" Label="Source1" />
            <Edge From="23" To="36" Label="Source1" />
            <Edge From="24" To="25" Label="Source1" />
            <Edge From="25" To="26" Label="Source1" />
            <Edge From="26" To="27" Label="Source1" />
            <Edge From="28" To="29" Label="Source1" />
            <Edge From="29" To="30" Label="Source1" />
            <Edge From="30" To="31" Label="Source1" />
            <Edge From="32" To="33" Label="Source1" />
            <Edge From="33" To="34" Label="Source1" />
            <Edge From="34" To="35" Label="Source1" />
            <Edge From="36" To="37" Label="Source1" />
            <Edge From="37" To="38" Label="Source1" />
            <Edge From="38" To="39" Label="Source1" />
            <Edge From="40" To="41" Label="Source1" />
            <Edge From="42" To="43" Label="Source1" />
          </Edges>
        </Workflow>
      </Expression>
      <Expression xsi:type="GroupWorkflow">
        <Name>ControlPanel</Name>
        <Workflow>
          <Nodes>
            <Expression xsi:type="GroupWorkflow">
              <Name>KeyBindings</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="wie:KeyDown">
                      <wie:Filter>ShiftKey Space D0 P NumPad0 F1 Shift</wie:Filter>
                      <wie:SuppressRepetitions>false</wie:SuppressRepetitions>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>StartCameras</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="wie:KeyDown">
                      <wie:Filter>LButton ShiftKey ControlKey Space Prior PageUp D0 D1 A P Q NumPad0 NumPad1 F1 F2 Shift</wie:Filter>
                      <wie:SuppressRepetitions>false</wie:SuppressRepetitions>
                    </Combinator>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>StopCameras</Name>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="wie:KeyDown">
                        <wie:Filter>LButton MButton XButton1 Back Tab Clear Return Enter A D E H I L M Control</wie:Filter>
                        <wie:SuppressRepetitions>true</wie:SuppressRepetitions>
                      </Combinator>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="MulticastSubject">
                      <Name>TriggerMotorParameters</Name>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="wie:KeyDown">
                        <wie:Filter>MButton D Control</wie:Filter>
                        <wie:SuppressRepetitions>false</wie:SuppressRepetitions>
                      </Combinator>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="IncludeWorkflow" Path="Aeon.Environment:EnvironmentCondition.bonsai">
                      <Value>Experiment</Value>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="MulticastSubject">
                      <Name>Drop</Name>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="wie:KeyDown">
                        <wie:Filter>LButton A Control</wie:Filter>
                        <wie:SuppressRepetitions>true</wie:SuppressRepetitions>
                      </Combinator>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="MulticastSubject">
                      <Name>TriggerMotorDropParameters</Name>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="wie:KeyDown">
                        <wie:Filter>RButton ShiftKey Menu B P R Control</wie:Filter>
                        <wie:SuppressRepetitions>true</wie:SuppressRepetitions>
                      </Combinator>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="MulticastSubject">
                      <Name>TriggerMotorResetParameters</Name>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="wie:KeyDown">
                        <wie:Filter>MButton Back Clear D H L Control</wie:Filter>
                        <wie:SuppressRepetitions>true</wie:SuppressRepetitions>
                      </Combinator>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="MulticastSubject">
                      <Name>TriggerLoomParameters</Name>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="Combinator">
                      <Combinator xsi:type="wie:KeyDown">
                        <wie:Filter>RButton ShiftKey Menu Space Next PageDown D0 D2 B P R NumPad0 NumPad2 F1 F3 Shift Alt</wie:Filter>
                        <wie:SuppressRepetitions>false</wie:SuppressRepetitions>
                      </Combinator>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="MulticastSubject">
                      <Name>TriggerReset</Name>
                    </Builder>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="8" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="13" To="14" Label="Source1" />
                  <Edge From="15" To="16" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>EnvironmentSubjectState</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>CameraControllerEvents</Name>
                  </Expression>
                  <Expression xsi:type="GroupWorkflow">
                    <Name>SubjectDatabase</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="SubscribeSubject">
                          <Name>EnvironmentState</Name>
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="EnvironmentState" Selector="Value.Type" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="ExternalizedMapping">
                          <Property Name="FileName" DisplayName="DatabaseConfig" Description="Specifies the name of the file containing the database connection string or path." />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="aeon:LoadConfigFile">
                            <aeon:FileName>Z:\aeon\config\database.config</aeon:FileName>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="aeon:ServiceAccountName" />
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="Value" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="Index">
                          <Operand xsi:type="StringProperty">
                            <Value>PHIELDS01</Value>
                          </Operand>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="StringProperty" />
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="rx:Catch" />
                        </Expression>
                        <Expression xsi:type="PropertyMapping">
                          <PropertyMappings>
                            <Property Name="DatabasePath" />
                          </PropertyMappings>
                        </Expression>
                        <Expression xsi:type="Combinator">
                          <Combinator xsi:type="aeon-env:EnvironmentSubjectState">
                            <aeon-env:EnvironmentState>Experiment</aeon-env:EnvironmentState>
                          </Combinator>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="11" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="11" Label="Source2" />
                        <Edge From="3" To="4" Label="Source1" />
                        <Edge From="4" To="7" Label="Source1" />
                        <Edge From="5" To="6" Label="Source1" />
                        <Edge From="6" To="7" Label="Source2" />
                        <Edge From="7" To="9" Label="Source1" />
                        <Edge From="8" To="9" Label="Source2" />
                        <Edge From="9" To="10" Label="Source1" />
                        <Edge From="10" To="11" Label="Source3" />
                        <Edge From="11" To="12" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>SubjectState</Name>
                  </Expression>
                  <Expression xsi:type="VisualizerMapping" />
                  <Expression xsi:type="viz:TableLayoutPanelBuilder">
                    <viz:Name>EvironmentSubjectState</viz:Name>
                    <viz:ColumnCount>1</viz:ColumnCount>
                    <viz:RowCount>1</viz:RowCount>
                    <viz:ColumnStyles />
                    <viz:RowStyles />
                    <viz:CellSpans />
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>ExperimentMetadata</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>CameraControllerEvents</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="aeon-env:AnnotationSource" />
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>Annotations</Name>
                  </Expression>
                  <Expression xsi:type="VisualizerMapping" />
                  <Expression xsi:type="SubscribeSubject">
                    <Name>CameraControllerEvents</Name>
                  </Expression>
                  <Expression xsi:type="Combinator">
                    <Combinator xsi:type="aeon-env:EnvironmentState" />
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>EnvironmentState</Name>
                  </Expression>
                  <Expression xsi:type="VisualizerMapping" />
                  <Expression xsi:type="SubscribeSubject">
                    <Name>EnvironmentState</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Value.Type</Selector>
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="WorkflowProperty" TypeArguments="aeon-env:EnvironmentStateType">
                      <Value>Experiment</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Enabled" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="gui:ButtonBuilder">
                    <gui:Name>ValveTrigger</gui:Name>
                    <gui:Enabled>true</gui:Enabled>
                    <gui:Visible>true</gui:Visible>
                    <gui:Font>Microsoft Sans Serif, 16pt</gui:Font>
                    <gui:Text>Trigger Puff</gui:Text>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>TriggerValve</Name>
                  </Expression>
                  <Expression xsi:type="Disable">
                    <Builder xsi:type="MulticastSubject">
                      <Name>Drop</Name>
                    </Builder>
                  </Expression>
                  <Expression xsi:type="VisualizerMapping" />
                  <Expression xsi:type="gui:PropertyGridBuilder">
                    <gui:Enabled>true</gui:Enabled>
                    <gui:Visible>true</gui:Visible>
                    <gui:HelpVisible>true</gui:HelpVisible>
                    <gui:ToolbarVisible>true</gui:ToolbarVisible>
                    <gui:AutoRefresh>false</gui:AutoRefresh>
                  </Expression>
                  <Expression xsi:type="VisualizerMapping" />
                  <Expression xsi:type="viz:TableLayoutPanelBuilder">
                    <viz:ColumnCount>2</viz:ColumnCount>
                    <viz:RowCount>1</viz:RowCount>
                    <viz:ColumnStyles />
                    <viz:RowStyles />
                    <viz:CellSpans />
                  </Expression>
                  <Expression xsi:type="VisualizerMapping" />
                  <Expression xsi:type="SubscribeSubject">
                    <Name>EnvironmentState</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Value.Type</Selector>
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="WorkflowProperty" TypeArguments="aeon-env:EnvironmentStateType">
                      <Value>Experiment</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Enabled" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="gui:ButtonBuilder">
                    <gui:Name>Home</gui:Name>
                    <gui:Enabled>true</gui:Enabled>
                    <gui:Visible>true</gui:Visible>
                    <gui:Font>Microsoft Sans Serif, 16pt</gui:Font>
                    <gui:Text>Home Loom</gui:Text>
                  </Expression>
                  <Expression xsi:type="rx:Sink">
                    <Name>Home</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="PropertySource" TypeArguments="WorkflowProperty(p3:LoomAction),p3:LoomAction">
                          <MemberName>Value</MemberName>
                          <Value>Home</Value>
                        </Expression>
                        <Expression xsi:type="MulticastSubject">
                          <Name>LoomAction</Name>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="VisualizerMapping" />
                  <Expression xsi:type="SubscribeSubject">
                    <Name>EnvironmentState</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Value.Type</Selector>
                  </Expression>
                  <Expression xsi:type="Equal">
                    <Operand xsi:type="WorkflowProperty" TypeArguments="aeon-env:EnvironmentStateType">
                      <Value>Experiment</Value>
                    </Operand>
                  </Expression>
                  <Expression xsi:type="PropertyMapping">
                    <PropertyMappings>
                      <Property Name="Enabled" />
                    </PropertyMappings>
                  </Expression>
                  <Expression xsi:type="gui:ButtonBuilder">
                    <gui:Name>Drop</gui:Name>
                    <gui:Enabled>true</gui:Enabled>
                    <gui:Visible>true</gui:Visible>
                    <gui:Font>Microsoft Sans Serif, 16pt</gui:Font>
                    <gui:Text>Drop Loom</gui:Text>
                  </Expression>
                  <Expression xsi:type="rx:Sink">
                    <Name>Drop</Name>
                    <Workflow>
                      <Nodes>
                        <Expression xsi:type="WorkflowInput">
                          <Name>Source1</Name>
                        </Expression>
                        <Expression xsi:type="PropertySource" TypeArguments="WorkflowProperty(p3:LoomAction),p3:LoomAction">
                          <MemberName>Value</MemberName>
                          <Value>Drop</Value>
                        </Expression>
                        <Expression xsi:type="MulticastSubject">
                          <Name>LoomAction</Name>
                        </Expression>
                        <Expression xsi:type="WorkflowOutput" />
                      </Nodes>
                      <Edges>
                        <Edge From="0" To="1" Label="Source1" />
                        <Edge From="1" To="2" Label="Source1" />
                        <Edge From="2" To="3" Label="Source1" />
                      </Edges>
                    </Workflow>
                  </Expression>
                  <Expression xsi:type="VisualizerMapping" />
                  <Expression xsi:type="viz:TableLayoutPanelBuilder">
                    <viz:Name>ExperimentMetadata</viz:Name>
                    <viz:ColumnCount>2</viz:ColumnCount>
                    <viz:RowCount>3</viz:RowCount>
                    <viz:ColumnStyles>
                      <viz:ColumnStyle>
                        <viz:Width>0</viz:Width>
                      </viz:ColumnStyle>
                    </viz:ColumnStyles>
                    <viz:RowStyles />
                    <viz:CellSpans>
                      <viz:CellSpan ColumnSpan="1" RowSpan="2" />
                    </viz:CellSpans>
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                  <Expression xsi:type="ExternalizedMapping">
                    <Property Name="Value" DisplayName="PulseSupplyPort0" />
                  </Expression>
                  <Expression xsi:type="PropertySource" TypeArguments="beh:CreatePulseSupplyPort0Payload,sys:UInt16">
                    <MemberName>PulseSupplyPort0</MemberName>
                    <Value>1000</Value>
                  </Expression>
                  <Expression xsi:type="MulticastSubject">
                    <Name>PulseSupplyPayload</Name>
                  </Expression>
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="34" Label="Source1" />
                  <Edge From="4" To="5" Label="Source1" />
                  <Edge From="5" To="6" Label="Source1" />
                  <Edge From="6" To="7" Label="Source1" />
                  <Edge From="7" To="34" Label="Source2" />
                  <Edge From="8" To="9" Label="Source1" />
                  <Edge From="9" To="10" Label="Source1" />
                  <Edge From="10" To="11" Label="Source1" />
                  <Edge From="11" To="12" Label="Source1" />
                  <Edge From="12" To="13" Label="Source1" />
                  <Edge From="13" To="14" Label="Source1" />
                  <Edge From="14" To="15" Label="Source1" />
                  <Edge From="15" To="18" Label="Source1" />
                  <Edge From="16" To="17" Label="Source1" />
                  <Edge From="17" To="18" Label="Source2" />
                  <Edge From="18" To="19" Label="Source1" />
                  <Edge From="19" To="34" Label="Source3" />
                  <Edge From="20" To="21" Label="Source1" />
                  <Edge From="21" To="22" Label="Source1" />
                  <Edge From="22" To="23" Label="Source1" />
                  <Edge From="23" To="24" Label="Source1" />
                  <Edge From="24" To="25" Label="Source1" />
                  <Edge From="25" To="26" Label="Source1" />
                  <Edge From="26" To="34" Label="Source4" />
                  <Edge From="27" To="28" Label="Source1" />
                  <Edge From="28" To="29" Label="Source1" />
                  <Edge From="29" To="30" Label="Source1" />
                  <Edge From="30" To="31" Label="Source1" />
                  <Edge From="31" To="32" Label="Source1" />
                  <Edge From="32" To="33" Label="Source1" />
                  <Edge From="33" To="34" Label="Source5" />
                  <Edge From="34" To="35" Label="Source1" />
                  <Edge From="36" To="37" Label="Source1" />
                  <Edge From="37" To="38" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
            <Expression xsi:type="GroupWorkflow">
              <Name>CamerasViz</Name>
              <Workflow>
                <Nodes>
                  <Expression xsi:type="SubscribeSubject">
                    <Name>CameraEvents</Name>
                  </Expression>
                  <Expression xsi:type="MemberSelector">
                    <Selector>Value.Image</Selector>
                  </Expression>
                  <Expression xsi:type="VisualizerMapping" />
                  <Expression xsi:type="viz:TableLayoutPanelBuilder">
                    <viz:Name>CameraOutput</viz:Name>
                    <viz:ColumnCount>1</viz:ColumnCount>
                    <viz:RowCount>1</viz:RowCount>
                    <viz:ColumnStyles />
                    <viz:RowStyles>
                      <viz:RowStyle>
                        <viz:SizeType>Percent</viz:SizeType>
                        <viz:Height>0.8</viz:Height>
                      </viz:RowStyle>
                      <viz:RowStyle>
                        <viz:SizeType>Percent</viz:SizeType>
                        <viz:Height>0.2</viz:Height>
                      </viz:RowStyle>
                    </viz:RowStyles>
                    <viz:CellSpans />
                  </Expression>
                  <Expression xsi:type="WorkflowOutput" />
                </Nodes>
                <Edges>
                  <Edge From="0" To="1" Label="Source1" />
                  <Edge From="1" To="2" Label="Source1" />
                  <Edge From="2" To="3" Label="Source1" />
                  <Edge From="3" To="4" Label="Source1" />
                </Edges>
              </Workflow>
            </Expression>
          </Nodes>
          <Edges />
        </Workflow>
      </Expression>
    </Nodes>
    <Edges />
  </Workflow>
</WorkflowBuilder>